<!-- + =================================================================================+ -->
<!-- |                             Dark Heresy Style Sheet Details                      | -->
<!-- | FILENAME: Dark Heresy1e-variant.html               VERSION: 1.0a (pre-release)   | -->
<!-- | AUTHOR: TobyFox2002              CONTACT: DreamFoxGamesNOSPAM@NOSPAMcomcast.net  | -->
<!-- | Date: 10/19/2022                                                                 | -->
<!-- |                                                                  (remove NOSPAM) | -->
<!-- | Desc:    This is a heavly modified version of the dark heresy 1e character sheet | -->
<!-- |          in use on roll20.  It uses modernized button tab navigaiton, merged     | -->
<!-- |          melee and ranged weapon repeating sections and ScriptCard outputs for   | -->
<!-- |          rolltemplates allowing for a greater amount of automation of rolls.     | -->
<!-- + ================================================================================ | -->

<!-- Logo Header -->
<div class="I-colrow col" style="margin-bottom:-30px; padding-right:3%; width:58%;">
    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Dark_Heresy/img/logo.png"
        style="max-height: 100px; margin-left:21%;">
</div>
<hr>
<input type="hidden" class="tabstoggle" name="attr_sheetTab" value="core"  />
<div style="text-align: center;">
<input type="hidden" class="tabstoggle" name="attr_sheetTab" value="core" />
    <button type="action" class="tab core" name="act_core" >Core </button>
    <button type="action" class="tab gear" name="act_gear" >Gear </button>
    <button type="action" class="tab advancement" name="act_advancements" >Advancements </button>
	<button type="action" class="tab npc" name="act_npc" >NPCS </button>
    <button type="action" class="tab journal" name="act_journal" >Journal </button>
    <button type="action" class="tab vehicles" name="act_vehicles" >Vehicles </button>
	<button type="action" class="tab psykana" name="act_psykana" >Psykana </button>
    <button type="action" class="tab social" name="act_social" >Social </button>
    <button type="action" class="tab ships" name="act_ship" >Ship </button>
	<button type="action" class="tab config" name="act_config" >CONFIG </button>
    <button type="action" class="tab debug" name="act_debug" >DEBUG </button>
</div>
<hr>
<!-- End Main Tab setup -->

<!-- Core Tab -->
<div class="section-core">
    <div class="wrapper">

        <!-- Base Character Information -->
        <div class="I-colrow col">

            <div class="row">
                <div class="item" style="width:14%"><label data-i18n="charactername">Character Name</label></div>
                <div class="item" style="width:35%"><input name="attr_character_name" type="text"></div>
                <div class="item" style="width:14%"><label data-i18n="playername">Player Name</label></div>
                <div class="item" style="width:37%"><input name="attr_Player" type="text"></div>
            </div>

            <div class="row">
                <div class="item" style="width:12%"><label data-i18n="homeworld">Home World</label></div>
                <div class="item" style="width:20%"><input name="attr_Homeworld" type="text"></div>
                <div class="item" style="width:12%"><label data-i18n="careerpath">Career Path</label></div>
                <div class="item" style="width:20%"><input name="attr_Career" type="text"></div>
                <div class="item" style="width:7%"><label data-i18n="rank">Rank</label></div>
                <div class="item" style="width:29%"><input name="attr_Rank" type="text"></div>
            </div>

            <div class="row">
                <div class="item" style="width:12%"><label data-i18n="divination">Divination</label></div>
                <div class="item" style="width:40%"><input name="attr_Divination" type="text"></div>
                <div class="item" style="width:6%"><label data-i18n="quirck">Quirk</label></div>
                <div class="item" style="width:14%"><input name="attr_Quirk" type="text"></div>
				<div class="item" style="width:10%"><label data-i18n="handedness">Handedness</label></div>
                <div class="item" style="width:18%"><input name="attr_Handedness" type="text"></div>
            </div>
			<input type="checkbox" name="attr_cfg-mini-toggle" value="1" class="nextitem-show">
            <div class="row minimal-toggle">
                <div class="item" style="width:7%"><label data-i18n="build">Build</label></div>
                <div class="item" style="width:14%"><input name="attr_Build" type="text"></div>
                <div class="item" style="width:7%"><label data-i18n="dh-height">Height</label></div>
                <div class="item" style="width:7%"><input name="attr_Height" type="text"></div>
                <div class="item" style="width:7%"><label data-i18n="weight">Weight</label></div>
                <div class="item" style="width:7%"><input name="attr_Weight" type="text"></div>
                <div class="item" style="width:5%"><label data-i18n="age">Age</label></div>
                <div class="item" style="width:7%"><input name="attr_Age" type="text"></div>
                <div class="item" style="width:6%"><label data-i18n="past">Past</label></div>
                <div class="item" style="width:33%"><input name="attr_Past" type="text"></div>
            </div>
			<input type="checkbox" name="attr_cfg-mini-toggle" value="1" class="nextitem-show">
            <div class="row minimal-toggle">
                <div class="item" style="width:11%"><label data-i18n="skincolor">Skin Colour</label></div>
                <div class="item" style="width:12%"><input name="attr_Skin" type="text"></div>
                <div class="item" style="width:11%"><label data-i18n="haircolor">Hair Colour</label></div>
                <div class="item" style="width:12%"><input name="attr_Hair" type="text"></div>
                <div class="item" style="width:11%"><label data-i18n="eyecolor">Eye Colour</label></div>
                <div class="item" style="width:12%"><input name="attr_Eyes" type="text"></div>
            </div>
        </div>
		<div class="I-colrow col">
			<div class="sect">
				<span class="tdcs small-label" style=""><input  type="text" name="attr_gender" title="(@{gender})  Used for text-based games." data-i18n="gender" style="width: 6em;"><br data-i18n="gender">Gender</span>
				<span class="tdcs small-label" style="width:8%;"><input  type="text" name="attr_subjpronoun" title="(@{subjpronoun})  Subjective Pronoun [Self] (He, She, it) ect.  HE/SHE/IT attacked with a longsword." data-i18n-title="subj-pronoun-title" style="width: 6em;"><br data-i18n="subj-pronoun">Subj. Pronoun</span>
				<span class="tdcs small-label" style="width:30%;"><input type="text" name="attr_objpronoun"  title="(@{objpronoun})   Objective Pronoun [Targeted] (Him, Her, Hir, it) ...forcing (him/her/hir/it) to roll his empathy skill to defend against it." data-i18n-title="obj-pronoun-title" style="width: 6em;"><br data-il8n="obj-pronoun">Obj. Pronoun</span>
				<span class="tdcs small-label" style="width:30%;"><input type="text" name="attr_posspronoun" title="(@{posspronoun})  Possessive Pronoun [Targeted] (His, Hers, Hirs, its) ...forcing @{targeted|objpronoun} to roll HIS/HERS/HIRS/ITS empathy skill to defend against it." data-i18n-title="poss-pronoun-title" style="width: 6em;"><br data-il8n="poss-pronoun">Poss. Pronoun</span>
				<span class="tdcs small-label" style="width:30%;"><input type="text" name="attr_salutation"  title="(@{salutation})   Title or Salutation (Mr, Mrs, Ms)" data-i18n-title="salutation-title" style="width: 6em;"><br data-li8n="salutation">Salutation</span>
				<span class="tdcs small-label" style="width:30%;"><select style="width: 105px;" name="attr_displayName" title="(@{displayName})  When using character sheet macros should the macro output the target's character name or token name." data-i18n-title="display-name-title">
					<option value="@{character_name}" selected>Character Name</option>
					<option value="@{selected|token_name}">Token Name</option>
				</select><br>Target Name</span>
			</div>
		</div>

        <!-- Main Sheet First Tier -->

        <div class="III-colrow">

            <!-- Left Column -->

            <div class="col skills">
                <hr>
                <h3 data-i18n="basicskills">Basic Skills</h3>
				<div class="table">
					<span class="table-name">Basic Skills</span>
					<div class="table-row">
						<span class="table-header">0</span>
						<span class="table-header">1</span>
						<span class="table-header">2</span>
						<span class="table-header">3</span>
						<span class="table-header">4</span>
						<span class="table-header">5</span>
						<span class="table-header">6</span>
						<span class="table-header">7</span>
						<span class="table-header">8</span>
						<span class="table-header">9</span>
						<span class="table-header">10</span>
						<span class="table-header">11</span>
						<span class="table-header">12</span>
					</div>
					<div class="table-row">
						<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_basicskills_$0_basicskill}" class="dice" value="%{selected|repeating_basicskills_$0_basicskill}">t</button></span>
						<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_basicskills_$1_basicskill}" class="dice" value="%{selected|repeating_basicskills_$1_basicskill}">t</button></span>
						<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_basicskills_$2_basicskill}" class="dice" value="%{selected|repeating_basicskills_$2_basicskill}">t</button></span>
						<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_basicskills_$3_basicskill}" class="dice" value="%{selected|repeating_basicskills_$3_basicskill}">t</button></span>
						<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_basicskills_$4_basicskill}" class="dice" value="%{selected|repeating_basicskills_$4_basicskill}">t</button></span>
						<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_basicskills_$5_basicskill}" class="dice" value="%{selected|repeating_basicskills_$5_basicskill}">t</button></span>
						<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_basicskills_$6_basicskill}" class="dice" value="%{selected|repeating_basicskills_$6_basicskill}">t</button></span>
						<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_basicskills_$7_basicskill}" class="dice" value="%{selected|repeating_basicskills_$7_basicskill}">t</button></span>
						<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_basicskills_$8_basicskill}" class="dice" value="%{selected|repeating_basicskills_$8_basicskill}">t</button></span>
						<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_basicskills_$9_basicskill}" class="dice" value="%{selected|repeating_basicskills_$9_basicskill}">t</button></span>
						<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_basicskills_$10_basicskill}" class="dice" value="%{selected|repeating_basicskills_$10_basicskill}">t</button></span>
						<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_basicskills_$11_basicskill}" class="dice" value="%{selected|repeating_basicskills_$11_basicskill}">t</button></span>
						<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_basicskills_$12_basicskill}" class="dice" value="%{selected|repeating_basicskills_$11_basicskill}">t</button></span>
					</div>
				</div>
		<hr>
                <table data-i18n-list="skills-list">
                    <tr>
                        <th data-i18n="skillname">Skill Name</th>
                        <th></th>
                        <th>10</th>
                        <th>20</th>
                        <th>&nbsp;</th>
						<th style="width:60px; text-align: center;">&nbsp;</th>
                        <th style="text-align: center;" data-i18n="roll">Roll</th>
                    </tr>
<input type="hidden" name="attr_awarenessRoll" value="/em rolls their . . . 
!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Skills (Basic) === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 08/05/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&skRollMod|?{Modifier|0}
	
	
	--/| ===== Strings =========== |\
	--&skName|Awareness
	--&skType|Basic
	--&skAttrAbbr|Per
	
	--/| ===== Numbers =========== |\
	--=skTotal|[[@{awareness}]]
	--=skRoll|1d100

	--/| ===== Functions =========== |\
	--=skTarget|[$skTotal] + [&skRollMod]

	--/| TITLE and FORMATTING
	--#title|Skill :: [&skName]
		--#titlecardbackground|#993333
	--#leftsub|Basic Skill
	--#rightsub|Attribute
	
		
	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$skRoll]   [/td][td][$skTarget] [/td][/tr][/t][/c]
	--+|[c] ● Skill Details ● [/c]
	
	--=DegSucess|[$skTarget] - [$skRoll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$skRoll.Total] -le [$skTarget.Total]|Success
	--?[$skRoll.Total] -gt [$skTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|
	
	--?[$skRoll] -lt 10|[
	--&rollStr|0[$skRoll.Raw]
		--]|[
			--&rollStr|[$skRoll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                    <tr data-i18n-list-item="awareness">
                        <td><label class="inlineblock"><input type="checkbox" value="1" name="attr_sk-awareness"   class="sklabel noshow"> <b title="" data-il8n="awarenessper" data-il8n-title="sk-awareness-title">Awareness (Per)</b></label></td>
                        <td><input name="attr_Awareness1" type="checkbox" value="0.5"></td>
                        <td><input name="attr_Awareness2" type="checkbox" value="10"></td>
                        <td><input name="attr_Awareness3" type="checkbox" value="10"></td>
						<td><input name="attr_Awareness4" type="checkbox" value="10"></td>
                        <td style="width:60px;min-width: 1.8em;"><input name="attr_Awareness5" type="number" value="0"></td>
                        <td><button name="roll_Awareness" type="roll" value="@{awarenessRoll}">
                                <input disabled name="attr_Awareness" type="number"
                                    value="floor((@{Awareness1}+0.5)*@{per-base}+@{Awareness2}+@{Awareness3}+@{Awareness4}+@{Awareness5})">
                            </button></td>
                    </tr>

<input type="hidden" name="attr_barterRoll" value="/em rolls their . . .
!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Skills (Basic) === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 08/05/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&skRollMod|?{Modifier|0}
	
	
	--/| ===== Strings =========== |\
	--&skName|Barter
	--&skType|Basic
	--&skAttrAbbr|Fel
	
	--/| ===== Numbers =========== |\
	--=skTotal|[[@{barter}]]
	--=skRoll|1d100

	--/| ===== Functions =========== |\
	--=skTarget|[$skTotal] + [&skRollMod]

	--/| TITLE and FORMATTING
	--#title|Skill :: [&skName]
		--#titlecardbackground|#993333
	--#leftsub|Basic Skill
	--#rightsub|Fellowship (Fel)
		
	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$skRoll]   [/td][td][$skTarget] [/td][/tr][/t][/c]
	--+|[c] ● Skill Details ● [/c]
	
	--=DegSucess|[$skTarget] - [$skRoll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$skRoll.Total] -le [$skTarget.Total]|Success
	--?[$skRoll.Total] -gt [$skTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|
	
	--?[$skRoll] -lt 10|[
	--&rollStr|0[$skRoll.Raw]
		--]|[
			--&rollStr|[$skRoll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                    <tr data-i18n-list-item="barter">
                        <td><label class="inlineblock"><input type="checkbox" value="1" name="attr_sk-barter"   class="sklabel noshow"> <b title="" data-il8n="barterfel" data-il8n-title="sk-barter-title">Barter (Fel)</b></label></td>
                        <td><input name="attr_Barter1" type="checkbox" value="0.5"></td>
                        <td><input name="attr_Barter2" type="checkbox" value="10"></td>
                        <td><input name="attr_Barter3" type="checkbox" value="10"></td>
						<td><input name="attr_Barter4" type="checkbox" value="10"></td>
                        <td style="width:60px"><input name="attr_Barter5" type="number" value="0"></td>
                        <td><button name="roll_Barter" type="roll" value="@{barterRoll}">
                                <input disabled name="attr_Barter" type="number"
                                    value="floor((@{Barter1}+0.5)*@{fel-base}+@{Barter2}+@{Barter3}+@{Barter4}+@{Barter5})">
                            </button></td>
                    </tr>
<input type="hidden" name="attr_carouseRoll" value="/em rolls their . . . 
!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Skills (Basic) === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 08/05/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&skRollMod|?{Modifier|0}
	
	
	--/| ===== Strings =========== |\
	--&skName|Carouse
	--&skType|Basic
	--&skAttrAbbr|T
	
	--/| ===== Numbers =========== |\
	--=skTotal|[[@{carouse}]]
	--=skRoll|1d100

	--/| ===== Functions =========== |\
	--=skTarget|[$skTotal] + [&skRollMod]

	--/| TITLE and FORMATTING
	--#title|Skill :: [&skName]
		--#titlecardbackground|#993333
	--#leftsub|Basic Skill
	--#rightsub|Toughness
		
	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$skRoll]   [/td][td][$skTarget] [/td][/tr][/t][/c]
	--+|[c] ● Skill Details ● [/c]
	
	--=DegSucess|[$skTarget] - [$skRoll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$skRoll.Total] -le [$skTarget.Total]|Success
	--?[$skRoll.Total] -gt [$skTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|
	
	--?[$skRoll] -lt 10|[
	--&rollStr|0[$skRoll.Raw]
		--]|[
			--&rollStr|[$skRoll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                    <tr data-i18n-list-item="carouse">
                        <td><label class="inlineblock"><input type="checkbox" value="1" name="attr_sk-carouse"   class="sklabel noshow"> <b title="" data-il8n="caroset" data-il8n-title="sk-carouse-title">Carose (T)</b></label></td>
                        <td><input name="attr_Carouse1" type="checkbox" value="0.5"></td>
                        <td><input name="attr_Carouse2" type="checkbox" value="10"></td>
                        <td><input name="attr_Carouse3" type="checkbox" value="10"></td>
						<td><input name="attr_Carouse4" type="checkbox" value="10"></td>
                        <td style="width:60px"><input name="attr_Carouse5" type="number" value="0"></td>
                        <td><button name="roll_Carouse" type="roll" value="@{carouseRoll}">
                                <input disabled name="attr_Carouse" type="number"
                                    value="floor((@{Carouse1}+0.5)*@{tou-base}+@{Carouse2}+@{Carouse3}+@{Carouse4}+@{Carouse5})">
                            </button></td>
                    </tr>
<input type="hidden" name="attr_charmRoll" value="/em rolls their . . . 
!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Skills (Basic) === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 08/05/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&skRollMod|?{Modifier|0}
	
	
	--/| ===== Strings =========== |\
	--&skName|Charm
	--&skType|Basic
	--&skAttrAbbr|Fel
	
	--/| ===== Numbers =========== |\
	--=skTotal|[[@{charm}]]
	--=skRoll|1d100

	--/| ===== Functions =========== |\
	--=skTarget|[$skTotal] + [&skRollMod]

	--/| TITLE and FORMATTING
	--#title|Skill :: [&skName]
		--#titlecardbackground|#993333
	--#leftsub|Basic Skill
	--#rightsub|Fellowship
		
	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$skRoll]   [/td][td][$skTarget] [/td][/tr][/t][/c]
	--+|[c] ● Skill Details ● [/c]
	
	--=DegSucess|[$skTarget] - [$skRoll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$skRoll.Total] -le [$skTarget.Total]|Success
	--?[$skRoll.Total] -gt [$skTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|
	
	--?[$skRoll] -lt 10|[
	--&rollStr|0[$skRoll.Raw]
		--]|[
			--&rollStr|[$skRoll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                    <tr data-i18n-list-item="charm">
                        <td><label class="inlineblock"><input type="checkbox" value="1" name="attr_sk-charm"   class="sklabel noshow"> <b title="" data-il8n="charmfel" data-il8n-title="sk-charm-title">Charm (Fel)</b></label></td>
                        <td><input name="attr_Charm1" type="checkbox" value="0.5"></td>
                        <td><input name="attr_Charm2" type="checkbox" value="10"></td>
                        <td><input name="attr_Charm3" type="checkbox" value="10"></td>
						<td><input name="attr_Charm4" type="checkbox" value="10"></td>
                        <td style="width:60px"><input name="attr_Charm5" type="number" value="0"></td>
                        <td><button name="roll_Charm" type="roll" value="@{charmRoll}">
                                <input disabled name="attr_Charm" type="number"
                                    value="floor((@{Charm1}+0.5)*@{fel-base}+@{Charm2}+@{Charm3}+@{Charm4}+@{Charm5})">
                            </button></td>
                    </tr>
<input type="hidden" name="attr_climbRoll" value="/em rolls their . . .
!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Skills (Basic) === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 08/05/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&skRollMod|?{Modifier|0}

	--/| ===== Strings =========== |\
	--&skName|Climb
	--&skType|Basic
	--&skAttrAbbr|STR
	
	--/| ===== Numbers =========== |\
	--=skTotal|[[@{climb}]]
	--=skRoll|1d100

	--/| ===== Functions =========== |\
	--=skTarget|[$skTotal] + [&skRollMod]

	--/| TITLE and FORMATTING
	--#title|Skill :: [&skName]
		--#titlecardbackground|#993333
	--#leftsub|Basic Skill
	--#rightsub|Strength
		
	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$skRoll]   [/td][td][$skTarget] [/td][/tr][/t][/c]
	--+|[c] ● Skill Details ● [/c]
	
	--=DegSucess|[$skTarget] - [$skRoll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$skRoll.Total] -le [$skTarget.Total]|Success
	--?[$skRoll.Total] -gt [$skTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|
	
	--?[$skRoll] -lt 10|[
	--&rollStr|0[$skRoll.Raw]
		--]|[
			--&rollStr|[$skRoll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                    <tr data-i18n-list-item="climb">
                        <td><label class="inlineblock"><input type="checkbox" value="1" name="attr_sk-climb"   class="sklabel noshow"> <b title="" data-il8n="climbs" data-il8n-title="sk-climb-title">Climb (S)</b></label></td>
                        <td><input name="attr_Climb1" type="checkbox" value="0.5"></td>
                        <td><input name="attr_Climb2" type="checkbox" value="10"></td>
                        <td><input name="attr_Climb3" type="checkbox" value="10"></td>
						<td><input name="attr_Climb4" type="checkbox" value="10"></td>
                        <td style="width:60px"><input name="attr_Climb5" type="number" value="0"></td>
                        <td><button name="roll_Climb" type="roll" value="@{climbRoll}">
                                <input disabled name="attr_Climb" type="number"
                                    value="floor((@{Climb1}+0.5)*@{str-base}+@{Climb2}+@{Climb3}+@{Climb4}+@{Climb5})">
                            </button></td>
                    </tr>
<input type="hidden" name="attr_commandRoll" value="/em rolls their . . . 
!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Skills (Basic) === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 08/05/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&skRollMod|?{Modifier|0}
	
	
	--/| ===== Strings =========== |\
	--&skName|Command
	--&skType|Basic
	--&skAttrAbbr|Fel
	
	--/| ===== Numbers =========== |\
	--=skTotal|[[@{command}]]
	--=skRoll|1d100

	--/| ===== Functions =========== |\
	--=skTarget|[$skTotal] + [&skRollMod] 

	--/| TITLE and FORMATTING
	--#title|Skill :: [&skName]
		--#titlecardbackground|#993333
	--#leftsub|Basic Skill
	--#rightsub|Fellowship
		
	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$skRoll]   [/td][td][$skTarget] [/td][/tr][/t][/c]
	--+|[c] ● Skill Details ● [/c]
	
	--=DegSucess|[$skTarget] - [$skRoll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$skRoll.Total] -le [$skTarget.Total]|Success
	--?[$skRoll.Total] -gt [$skTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|
	
	--?[$skRoll] -lt 10|[
	--&rollStr|0[$skRoll.Raw]
		--]|[
			--&rollStr|[$skRoll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]
}}">
                    <tr data-i18n-list-item="command">
                        <td><label class="inlineblock"><input type="checkbox" value="1" name="attr_sk-command"   class="sklabel noshow"> <b title="" data-il8n="commandfel" data-il8n-title="sk-command-title">Command (Fel)</b></label></td>
                        <td><input name="attr_Command1" type="checkbox" value="0.5"></td>
                        <td><input name="attr_Command2" type="checkbox" value="10"></td>
                        <td><input name="attr_Command3" type="checkbox" value="10"></td>
						<td><input name="attr_Command4" type="checkbox" value="10"></td>
                        <td style="width:60px"><input name="attr_Command5" type="number" value="0"></td>
                        <td><button name="roll_Command" type="roll" value="@{commandRoll}">
                                <input disabled name="attr_Command" type="number"
                                    value="floor((@{Command1}+0.5)*@{fel-base}+@{Command2}+@{Command3}+@{Command4}+@{Command5})">
                            </button></td>
                    </tr>
<input type="hidden" name="attr_concealmentRoll" value="/em rolls their . . . 
!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Skills (Basic) === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 08/05/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&skRollMod|?{Modifier|0}
	
	
	--/| ===== Strings =========== |\
	--&skName|Concealment
	--&skType|Basic
	--&skAttrAbbr|Ag
	
	--/| ===== Numbers =========== |\
	--=skTotal|[[@{concealment}]]
	--=skRoll|1d100

	--/| ===== Functions =========== |\
	--=skTarget|[$skTotal] + [&skRollMod]

	--/| TITLE and FORMATTING
	--#title|Skill :: [&skName]
		--#titlecardbackground|#993333
	--#leftsub|Basic Skill
	--#rightsub|Agility
		
	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$skRoll]   [/td][td][$skTarget] [/td][/tr][/t][/c]
	--+|[c] ● Skill Details ● [/c]
	
	--=DegSucess|[$skTarget] - [$skRoll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$skRoll.Total] -le [$skTarget.Total]|Success
	--?[$skRoll.Total] -gt [$skTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|
	
	--?[$skRoll] -lt 10|[
	--&rollStr|0[$skRoll.Raw]
		--]|[
			--&rollStr|[$skRoll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                    <tr data-i18n-list-item="concealment">
                        <td><label class="inlineblock"><input type="checkbox" value="1" name="attr_sk-concealment"   class="sklabel noshow"> <b title="" data-il8n="concealmentag" data-il8n-title="sk-concealment-title">Concealment (Ag)</b></label></td>
                        <td><input name="attr_Concealment1" type="checkbox" value="0.5"></td>
                        <td><input name="attr_Concealment2" type="checkbox" value="10"></td>
                        <td><input name="attr_Concealment3" type="checkbox" value="10"></td>
						<td><input name="attr_Concealment5" type="checkbox" value="10"></td>
                        <td style="width:60px"><input name="attr_Concealment4" type="number" value="0"></td>
                        <td><button name="roll_Concealment" type="roll" value="@{concealmentRoll}">
                                <input disabled name="attr_Concealment" type="number"
                                    value="floor((@{Concealment1}+0.5)*@{agi-base}+@{Concealment2}+@{Concealment3}+@{Concealment4}+@{Concealment5})">
                            </button></td>
                    </tr>
<input type="hidden" name="attr_contortionistRoll" value="/em rolls their . . . 
!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Skills (Basic) === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 08/05/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&skRollMod|?{Modifier|0}
	
	
	--/| ===== Strings =========== |\
	--&skName|Contortionist
	--&skType|Basic
	--&skAttrAbbr|Ag
	
	--/| ===== Numbers =========== |\
	--=skTotal|[[@{contortionist}]]
	--=skRoll|1d100

	--/| ===== Functions =========== |\
	--=skTarget|[$skTotal] + [&skRollMod]

	--/| TITLE and FORMATTING
	--#title|Skill :: [&skName]
		--#titlecardbackground|#993333
	--#leftsub|Basic Skill
	--#rightsub|Agility
		
	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$skRoll]   [/td][td][$skTarget] [/td][/tr][/t][/c]
	--+|[c] ● Skill Details ● [/c]
	
	--=DegSucess|[$skTarget] - [$skRoll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$skRoll.Total] -le [$skTarget.Total]|Success
	--?[$skRoll.Total] -gt [$skTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|
	
	--?[$skRoll] -lt 10|[
	--&rollStr|0[$skRoll.Raw]
		--]|[
			--&rollStr|[$skRoll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                    <tr data-i18n-list-item="contortionist">
                        <td><label class="inlineblock"><input type="checkbox" value="1" name="attr_sk-contortionist"   class="sklabel noshow"> <b title="" data-il8n="contortionistag" data-il8n-title="sk-contortionist-title">Contortionist (Ag)</b></label></td>
                        <td><input name="attr_Contortionist1" type="checkbox" value="0.5"></td>
                        <td><input name="attr_Contortionist2" type="checkbox" value="10"></td>
                        <td><input name="attr_Contortionist3" type="checkbox" value="10"></td>
						<td><input name="attr_Contortionist4" type="checkbox" value="10"></td>
                        <td style="width:60px"><input name="attr_Contortionist5" type="number" value="0"></td>
                        <td><button name="roll_Contortionist" type="roll" value="@{contortionistRoll}">
                                <input disabled name="attr_Contortionist" type="number"
                                    value="floor((@{Contortionist1}+0.5)*@{agi-base}+@{Contortionist2}+@{Contortionist3}+@{Contortionist4}+@{Contortionist5})">
                            </button></td>
                    </tr>
<input type="hidden" name="attr_deceiveRoll" value="/em rolls their . . . 
!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Skills (Basic) === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 08/05/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&skRollMod|?{Modifier|0}
	
	
	--/| ===== Strings =========== |\
	--&skName|Deceive
	--&skType|Basic
	--&skAttrAbbr|Fel
	
	--/| ===== Numbers =========== |\
	--=skTotal|[[@{deceive}]]
	--=skRoll|1d100

	--/| ===== Functions =========== |\
	--=skTarget|[$skTotal] + [&skRollMod]

	--/| TITLE and FORMATTING
	--#title|Skill :: [&skName]
		--#titlecardbackground|#993333
	--#leftsub|Basic Skill
	--#rightsub|Fellowship
		
	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$skRoll]   [/td][td][$skTarget] [/td][/tr][/t][/c]
	--+|[c] ● Skill Details ● [/c]
	
	--=DegSucess|[$skTarget] - [$skRoll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$skRoll.Total] -le [$skTarget.Total]|Success
	--?[$skRoll.Total] -gt [$skTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|
	
	--?[$skRoll] -lt 10|[
	--&rollStr|0[$skRoll.Raw]
		--]|[
			--&rollStr|[$skRoll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                    <tr data-i18n-list-item="deceive">
                        <td><label class="inlineblock"><input type="checkbox" value="1" name="attr_sk-deceive"   class="sklabel noshow"> <b title="" data-il8n="deceivefel" data-il8n-title="sk-deceive-title">Deceive (Fel)</b></label></td>
                        <td><input name="attr_Deceive1" type="checkbox" value="0.5"></td>
                        <td><input name="attr_Deceive2" type="checkbox" value="10"></td>
                        <td><input name="attr_Deceive3" type="checkbox" value="10"></td>
						<td><input name="attr_Deceive4" type="checkbox" value="10"></td>
                        <td style="width:60px"><input name="attr_Deceive5" type="number" value="0"></td>
                        <td><button name="roll_Deceive" type="roll" value="@{deceiveRoll}">
                                <input disabled name="attr_Deceive" type="number"
                                    value="floor((@{Deceive1}+0.5)*@{fel-base}+@{Deceive2}+@{Deceive3}+@{Deceive4}+@{Deceive5})">
                            </button></td>
                    </tr>
<input type="hidden" name="attr_disguiseRoll" value="/em rolls their . . . 
!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Skills (Basic) === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 08/05/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&skRollMod|?{Modifier|0}
	
	
	--/| ===== Strings =========== |\
	--&skName|Disguise
	--&skType|Basic
	--&skAttrAbbr|Fel
	
	--/| ===== Numbers =========== |\
	--=skTotal|[[@{disguise}]]
	--=skRoll|1d100

	--/| ===== Functions =========== |\
	--=skTarget|[$skTotal] + [&skRollMod]

	--/| TITLE and FORMATTING
	--#title|Skill :: [&skName]
		--#titlecardbackground|#993333
	--#leftsub|Basic Skill
	--#rightsub|Fellowship
		
	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$skRoll]   [/td][td][$skTarget] [/td][/tr][/t][/c]
	--+|[c] ● Skill Details ● [/c]
	
	--=DegSucess|[$skTarget] - [$skRoll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$skRoll.Total] -le [$skTarget.Total]|Success
	--?[$skRoll.Total] -gt [$skTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|
	
	--?[$skRoll] -lt 10|[
	--&rollStr|0[$skRoll.Raw]
		--]|[
			--&rollStr|[$skRoll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                    <tr data-i18n-list-item="disguise">
                        <td><label class="inlineblock"><input type="checkbox" value="1" name="attr_sk-disguise"   class="sklabel noshow"> <b title="" data-il8n="disguisefel" data-il8n-title="sk-disguise-title">Disguise (Fel)</b></label></td>
                        <td><input name="attr_Disguise1" type="checkbox" value="0.5"></td>
                        <td><input name="attr_Disguise2" type="checkbox" value="10"></td>
                        <td><input name="attr_Disguise3" type="checkbox" value="10"></td>
						<td><input name="attr_Disguise4" type="checkbox" value="10"></td>
                        <td style="width:60px"><input name="attr_Disguise5" type="number" value="0"></td>
                        <td><button name="roll_Disguise" type="roll" value="@{disguiseRoll}">
                                <input disabled name="attr_Disguise" type="number"
                                    value="floor((@{Disguise1}+0.5)*@{fel-base}+@{Disguise2}+@{Disguise3}+@{Disguise4}+@{Disguise5})">
                            </button></td>
                    </tr>
<input type="hidden" name="attr_dodgeRoll" value="/em rolls their . . . 
!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Skills (Basic) === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 08/05/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&skRollMod|?{Modifier|0}
	
	
	--/| ===== Strings =========== |\
	--&skName|Dodge
	--&skType|Basic
	--&skAttrAbbr|Ag
	
	--/| ===== Numbers =========== |\
	--=skTotal|[[@{dodge}]]
	--=skRoll|1d100

	--/| ===== Functions =========== |\
	--=skTarget|[$skTotal] + [&skRollMod]

	--/| TITLE and FORMATTING
	--#title|Skill :: [&skName]
		--#titlecardbackground|#993333
	--#leftsub|Basic Skill
	--#rightsub|Agility
		
	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$skRoll]   [/td][td][$skTarget] [/td][/tr][/t][/c]
	--+|[c] ● Skill Details ● [/c]
	
	--=DegSucess|[$skTarget] - [$skRoll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$skRoll.Total] -le [$skTarget.Total]|Success
	--?[$skRoll.Total] -gt [$skTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|
	
	--?[$skRoll] -lt 10|[
	--&rollStr|0[$skRoll.Raw]
		--]|[
			--&rollStr|[$skRoll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                    <tr data-i18n-list-item="dodge">
                        <td><label class="inlineblock"><input type="checkbox" value="1" name="attr_sk-dodge"   class="sklabel noshow"> <b title="" data-il8n="dodgeag" data-il8n-title="sk-dodge-title">Dodge (Ag)</b></label></td>
                        <td><input name="attr_Dodge1" type="checkbox" value="0.5"></td>
                        <td><input name="attr_Dodge2" type="checkbox" value="10"></td>
                        <td><input name="attr_Dodge3" type="checkbox" value="10"></td>
						<td><input name="attr_Dodge4" type="checkbox" value="10"></td>
                        <td style="width:60px"><input name="attr_Dodge5" type="number" value="0"></td>
                        <td><button name="roll_Dodge" type="roll" value="@{dodgeRoll}">
                                <input disabled name="attr_Dodge" type="number"
                                    value="floor((@{Dodge1}+0.5)*@{agi-base}+@{Dodge2}+@{Dodge3}+@{Dodge4}+@{Dodge5})">
                            </button></td>
                    </tr>
<input type="hidden" name="attr_evaluateRoll" value="/em rolls their . . . 
!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Skills (Basic) === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 08/05/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&skRollMod|?{Modifier|0}
	
	
	--/| ===== Strings =========== |\
	--&skName|Evaluate
	--&skType|Basic
	--&skAttrAbbr|Int
	
	--/| ===== Numbers =========== |\
	--=skTotal|[[@{evaluate}]]
	--=skRoll|1d100

	--/| ===== Functions =========== |\
	--=skTarget|[$skTotal] + [&skRollMod]

	--/| TITLE and FORMATTING
	--#title|Skill :: [&skName]
		--#titlecardbackground|#993333
	--#leftsub|Basic Skill
	--#rightsub|Intelligence
		
	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$skRoll]   [/td][td][$skTarget] [/td][/tr][/t][/c]
	--+|[c] ● Skill Details ● [/c]
	
	--=DegSucess|[$skTarget] - [$skRoll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$skRoll.Total] -le [$skTarget.Total]|Success
	--?[$skRoll.Total] -gt [$skTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|
	
	--?[$skRoll] -lt 10|[
	--&rollStr|0[$skRoll.Raw]
		--]|[
			--&rollStr|[$skRoll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                    <tr data-i18n-list-item="evaluate">
                        <td><label class="inlineblock"><input type="checkbox" value="1" name="attr_sk-evaluate"   class="sklabel noshow"> <b title="" data-il8n="evaluateint" data-il8n-title="sk-evaluate-title">Evaluate (Int)</b></label></td>
                        <td><input name="attr_Evaluate1" type="checkbox" value="0.5"></td>
                        <td><input name="attr_Evaluate2" type="checkbox" value="10"></td>
                        <td><input name="attr_Evaluate3" type="checkbox" value="10"></td>
						<td><input name="attr_Evaluate4" type="checkbox" value="10"></td>
                        <td style="width:60px"><input name="attr_Evaluate5" type="number" value="0"></td>
                        <td><button name="roll_Evaluate" type="roll" value="@{evaluateRoll}">
                                <input disabled name="attr_Evaluate" type="number"
                                    value="floor((@{Evaluate1}+0.5)*@{int-base}+@{Evaluate2}+@{Evaluate3}+@{Evaluate4}+@{Evaluate5})">
                            </button></td>
                    </tr>
<input type="hidden" name="attr_gambleRoll" value="/em rolls their . . . 
!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Skills (Basic) === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 08/05/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&skRollMod|?{Modifier|0}
	
	--/| ===== Strings =========== |\
	--&skName|Gamble
	--&skType|Basic
	--&skAttrAbbr|Int
	
	--/| ===== Numbers =========== |\
	--=skTotal|[[@{gamble}]]
	--=skRoll|1d100

	--/| ===== Functions =========== |\
	--=skTarget|[$skTotal] + [&skRollMod]

	--/| TITLE and FORMATTING
	--#title|Skill :: [&skName]
		--#titlecardbackground|#993333
	--#leftsub|Basic Skill
	--#rightsub|Intelligence
		
	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$skRoll]   [/td][td][$skTarget] [/td][/tr][/t][/c]
	--+|[c] ● Skill Details ● [/c]
	
	--=DegSucess|[$skTarget] - [$skRoll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$skRoll.Total] -le [$skTarget.Total]|Success
	--?[$skRoll.Total] -gt [$skTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|
	
	--?[$skRoll] -lt 10|[
	--&rollStr|0[$skRoll.Raw]
		--]|[
			--&rollStr|[$skRoll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                    <tr data-i18n-list-item="gamble">
                        <td><label class="inlineblock"><input type="checkbox" value="1" name="attr_sk-gamble"   class="sklabel noshow"> <b title="" data-il8n="gambleint" data-il8n-title="sk-gamble-title">Gamble (Int)</b></label></td>
                        <td><input name="attr_Gamble1" type="checkbox" value="0.5"></td>
                        <td><input name="attr_Gamble2" type="checkbox" value="10"></td>
                        <td><input name="attr_Gamble3" type="checkbox" value="10"></td>
						<td><input name="attr_Gamble4" type="checkbox" value="10"></td>
                        <td style="width:60px"><input name="attr_Gamble5" type="number" value="0"></td>
                        <td><button name="roll_Gamble" type="roll" value="@{gambleRoll}">
                                <input disabled name="attr_Gamble" type="number"
                                    value="floor((@{Gamble1}+0.5)*@{int-base}+@{Gamble2}+@{Gamble3}+@{Gamble4}+@{Gamble5})">
                            </button></td>
                    </tr>
<input type="hidden" name="attr_inquiryRoll" value="/em rolls their . . . 
!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Skills (Basic) === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 08/05/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&skRollMod|?{Modifier|0}
	
	
	--/| ===== Strings =========== |\
	--&skName|Inquiry
	--&skType|Basic
	--&skAttrAbbr|Fel
	
	--/| ===== Numbers =========== |\
	--=skTotal|[[@{inquiry}]]
	--=skRoll|1d100

	--/| ===== Functions =========== |\
	--=skTarget|[$skTotal] + [&skRollMod]

	--/| TITLE and FORMATTING
	--#title|Skill :: [&skName]
		--#titlecardbackground|#993333
	--#leftsub|Basic Skill
	--#rightsub|Fellowship
		
	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$skRoll]   [/td][td][$skTarget] [/td][/tr][/t][/c]
	--+|[c] ● Skill Details ● [/c]
	
	--=DegSucess|[$skTarget] - [$skRoll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$skRoll.Total] -le [$skTarget.Total]|Success
	--?[$skRoll.Total] -gt [$skTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|
	
	--?[$skRoll] -lt 10|[
	--&rollStr|0[$skRoll.Raw]
		--]|[
			--&rollStr|[$skRoll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                    <tr data-i18n-list-item="inquiry">
                        <td><label class="inlineblock"><input type="checkbox" value="1" name="attr_sk-inquiry"   class="sklabel noshow"> <b title="" data-il8n="inquiryfel" data-il8n-title="sk-inquiry-title">Inquiry (Fel)</b></label></td>
                        <td><input name="attr_Inquiry1" type="checkbox" value="0.5"></td>
                        <td><input name="attr_Inquiry2" type="checkbox" value="10"></td>
                        <td><input name="attr_Inquiry3" type="checkbox" value="10"></td>
						<td><input name="attr_Inquiry4" type="checkbox" value="10"></td>
                        <td style="width:60px"><input name="attr_Inquiry5" type="number" value="0"></td>
                        <td><button name="roll_Inquiry" type="roll" value="@{inquiryRoll}">
                                <input disabled name="attr_Inquiry" type="number"
                                    value="floor((@{Inquiry1}+0.5)*@{fel-base}+@{Inquiry2}+@{Inquiry3}+@{Inquiry4}+@{Gamble5})">
                            </button></td>
                    </tr>
<input type="hidden" name="attr_intimidateRoll" value="/em rolls their . . . 
!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Skills (Basic) === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 08/05/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&skRollMod|?{Modifier|0}
	
	
	--/| ===== Strings =========== |\
	--&skName|Intimidate
	--&skType|Basic
	--&skAttrAbbr|STR
	
	--/| ===== Numbers =========== |\
	--=skTotal|[[@{intimidate}]]
	--=skRoll|1d100

	--/| ===== Functions =========== |\
	--=skTarget|[$skTotal] + [&skRollMod]

	--/| TITLE and FORMATTING
	--#title|Skill :: [&skName]
		--#titlecardbackground|#993333
	--#leftsub|Basic Skill
	--#rightsub|[&skAttrAbbr]
		
	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$skRoll]   [/td][td][$skTarget] [/td][/tr][/t][/c]
	--+|[c] ● Skill Details ● [/c]
	
	--=DegSucess|[$skTarget] - [$skRoll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$skRoll.Total] -le [$skTarget.Total]|Success
	--?[$skRoll.Total] -gt [$skTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|
	
	--?[$skRoll] -lt 10|[
	--&rollStr|0[$skRoll.Raw]
		--]|[
			--&rollStr|[$skRoll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                    <tr data-i18n-list-item="intimidate">
                        <td><label class="inlineblock"><input type="checkbox" value="1" name="attr_sk-intimidate"   class="sklabel noshow"> <b title="" data-il8n="intimidatestr" data-il8n-title="sk-intimidate-title">Intimidate (S)</b></label></td>
                        <td><input name="attr_Intimidate1" type="checkbox" value="0.5"></td>
                        <td><input name="attr_Intimidate2" type="checkbox" value="10"></td>
                        <td><input name="attr_Intimidate3" type="checkbox" value="10"></td>
						<td><input name="attr_Intimidate4" type="checkbox" value="10"></td>
                        <td style="width:60px"><input name="attr_Intimidate5" type="number" value="0"></td>
                        <td><button name="roll_Intimidate" type="roll" value="@{intimidateRoll}">
                                <input disabled name="attr_Intimidate" type="number"
                                    value="floor((@{Intimidate1}+0.5)*@{str-base}+@{Intimidate2}+@{Intimidate3}+@{Intimidate4}+@{Intimidate5})">
                            </button></td>
                    </tr>
<input type="hidden" name="attr_logicRoll" value="/em rolls their . . . 
!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Skills (Basic) === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 08/05/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&skRollMod|?{Modifier|0}
	
	
	--/| ===== Strings =========== |\
	--&skName|Logic
	--&skType|Basic
	--&skAttrAbbr|Int
	
	--/| ===== Numbers =========== |\
	--=skTotal|[[@{logic}]]
	--=skRoll|1d100

	--/| ===== Functions =========== |\
	--=skTarget|[$skTotal] + [&skRollMod]

	--/| TITLE and FORMATTING
	--#title|Skill :: [&skName]
		--#titlecardbackground|#993333
	--#leftsub|Basic Skill
	--#rightsub|Intelligence
		
	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$skRoll]   [/td][td][$skTarget] [/td][/tr][/t][/c]
	--+|[c] ● Skill Details ● [/c]
	
	--=DegSucess|[$skTarget] - [$skRoll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$skRoll.Total] -le [$skTarget.Total]|Success
	--?[$skRoll.Total] -gt [$skTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|
	
	--?[$skRoll] -lt 10|[
	--&rollStr|0[$skRoll.Raw]
		--]|[
			--&rollStr|[$skRoll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                    <tr data-i18n-list-item="logic">
                        <td><label class="inlineblock"><input type="checkbox" value="1" name="attr_sk-logic"   class="sklabel noshow"> <b title="" data-il8n="logicint" data-il8n-title="sk-logic-title">Logic (Int)</b></label></td>
                        <td><input name="attr_Logic1" type="checkbox" value="0.5"></td>
                        <td><input name="attr_Logic2" type="checkbox" value="10"></td>
                        <td><input name="attr_Logic3" type="checkbox" value="10"></td>
						<td><input name="attr_Logic4" type="checkbox" value="10"></td>
                        <td style="width:60px"><input name="attr_Logic5" type="number" value="0"></td>
                        <td><button name="roll_Logic" type="roll" value="@{logicRoll}">
                                <input disabled name="attr_Logic" type="number"
                                    value="floor((@{Logic1}+0.5)*@{int-base}+@{Logic2}+@{Logic3}+@{Logic4}+@{Logic5})">
                            </button></td>
                    </tr>
<input type="hidden" name="attr_scrutinyRoll" value="/em rolls their . . . 
!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Skills (Basic) === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 08/05/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&skRollMod|?{Modifier|0}
	
	
	--/| ===== Strings =========== |\
	--&skName|Scrutiny
	--&skType|Basic
	--&skAttrAbbr|Per
	
	--/| ===== Numbers =========== |\
	--=skTotal|[[@{scrutiny}]]
	--=skRoll|1d100

	--/| ===== Functions =========== |\
	--=skTarget|[$skTotal] + [&skRollMod]

	--/| TITLE and FORMATTING
	--#title|Skill :: [&skName]
		--#titlecardbackground|#993333
	--#leftsub|Basic Skill
	--#rightsub|Perception

	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$skRoll]   [/td][td][$skTarget] [/td][/tr][/t][/c]
	--+|[c] ● Skill Details ● [/c]
	
	--=DegSucess|[$skTarget] - [$skRoll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$skRoll.Total] -le [$skTarget.Total]|Success
	--?[$skRoll.Total] -gt [$skTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|
	
	--?[$skRoll] -lt 10|[
	--&rollStr|0[$skRoll.Raw]
		--]|[
			--&rollStr|[$skRoll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                    <tr data-i18n-list-item="scrutiny">
                        <td><label class="inlineblock"><input type="checkbox" value="1" name="attr_sk-scrutiny"   class="sklabel noshow"> <b title="" data-il8n="scrutinyper" data-il8n-title="sk-scrutiny-title">Scrutiny (Per)</b></label></td>                       <td><input name="attr_Scrutiny1" type="checkbox" value="0.5"></td>
                        <td><input name="attr_Scrutiny2" type="checkbox" value="10"></td>
                        <td><input name="attr_Scrutiny3" type="checkbox" value="10"></td>
						<td><input name="attr_Scrutiny4" type="checkbox" value="10"></td>
                        <td style="width:60px"><input name="attr_Scrutiny5" type="number" value="0"></td>
                        <td><button name="roll_Scrutiny" type="roll"
                                value="@{scrutinyRoll}">
                                <input disabled name="attr_Scrutiny" type="number"
                                    value="floor((@{Scrutiny1}+0.5)*@{per-base}+@{Scrutiny2}+@{Scrutiny3}+@{Scrutiny4}+@{Scrutiny5})">
                            </button></td>
                    </tr>
<input type="hidden" name="attr_searchRoll" value="/em rolls their . . . 
!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Skills (Basic) === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 08/05/2022                                  === |\--
	
	--/| Local Variables --|\

	--/| ===== Roll Queries / Information Lookup =========== |\
	--&skRollMod|?{Modifier|0}	
	
	--/| ===== Strings =========== |\
	--&skName|Search
	--&skType|Basic
	--&skAttrAbbr|Per
	
	--/| ===== Numbers =========== |\
	--=skTotal|[[@{search}]]
	--=skRoll|1d100

	--/| ===== Functions =========== |\
	--=skTarget|[$skTotal] + [&skRollMod]

	--/| TITLE and FORMATTING
	--#title|Skill :: [&skName]
		--#titlecardbackground|#993333
	--#leftsub|Basic Skill
	--#rightsub|Perception

	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$skRoll]   [/td][td][$skTarget] [/td][/tr][/t][/c]
	--+|[c] ● Skill Details ● [/c]
	
	--=DegSucess|[$skTarget] - [$skRoll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$skRoll.Total] -le [$skTarget.Total]|Success
	--?[$skRoll.Total] -gt [$skTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|
	
	--?[$skRoll] -lt 10|[
	--&rollStr|0[$skRoll.Raw]
		--]|[
			--&rollStr|[$skRoll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                    <tr data-i18n-list-item="search">
                        <td><label class="inlineblock"><input type="checkbox" value="1" name="attr_sk-search"   class="sklabel noshow"> <b title="" data-il8n="searchper" data-il8n-title="sk-search-title">Search (Per)</b></label></td>
                        <td><input name="attr_Search1" type="checkbox" value="0.5"></td>
                        <td><input name="attr_Search2" type="checkbox" value="10"></td>
                        <td><input name="attr_Search3" type="checkbox" value="10"></td>
						<td><input name="attr_Search4" type="checkbox" value="10"></td>
                        <td style="width:60px"><input name="attr_Search5" type="number" value="0"></td>
                        <td><button name="roll_Search" type="roll" value="@{searchRoll}">
                                <input disabled name="attr_Search" type="number"
                                    value="floor((@{Search1}+0.5)*@{per-base}+@{Search2}+@{Search3}+@{Search4}+@{Search5})">
                            </button></td>
                    </tr>
<input type="hidden" name="attr_silentMoveRoll" value="/em rolls their . . . 
!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Skills (Basic) === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 08/05/2022                                  === |\--
	
	--/| Local Variables --|\

	--/| ===== Roll Queries / Information Lookup =========== |\
	--&skRollMod|?{Modifier|0}
	
	
	--/| ===== Strings =========== |\
	--&skName|Silent Move
	--&skType|Basic
	--&skAttrAbbr|Ag
	
	--/| ===== Numbers =========== |\
	--=skTotal|[[@{silentmove}]]
	--=skRoll|1d100

	--/| ===== Functions =========== |\
	--=skTarget|[$skTotal] + [&skRollMod]

	--/| TITLE and FORMATTING
	--#title|Skill :: [&skName]
		--#titlecardbackground|#993333
	--#leftsub|Basic Skill
	--#rightsub|Agility

	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$skRoll]   [/td][td][$skTarget] [/td][/tr][/t][/c]
	--+|[c] ● Skill Details ● [/c]
	
	--=DegSucess|[$skTarget] - [$skRoll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$skRoll.Total] -le [$skTarget.Total]|Success
	--?[$skRoll.Total] -gt [$skTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|
	
	--?[$skRoll] -lt 10|[
	--&rollStr|0[$skRoll.Raw]
		--]|[
			--&rollStr|[$skRoll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                    <tr data-i18n-list-item="silentmove">
                        <td><label class="inlineblock"><input type="checkbox" value="1" name="attr_sk-silentmove"   class="sklabel noshow"> <b title="" data-il8n="silentmoveag" data-il8n-title="sk-silentmove-title">Silent Move (Ag)</b></label></td>
                        <td><input name="attr_SilentMove1" type="checkbox" value="0.5"></td>
                        <td><input name="attr_SilentMove2" type="checkbox" value="10"></td>
                        <td><input name="attr_SilentMove3" type="checkbox" value="10"></td>
						<td><input name="attr_SilentMove4" type="checkbox" value="10"></td>
                        <td style="width:60px"><input name="attr_SilentMove5" type="number" value="0"></td>
                        <td><button name="roll_SilentMove" type="roll" value="@{silentmoveRoll}">
                                <input disabled name="attr_SilentMove" type="number"
                                    value="floor((@{SilentMove1}+0.5)*@{agi-base}+@{SilentMove2}+@{SilentMove3}+@{SilentMove4}+@{SilentMove5})">
                            </button></td>
                    </tr>
<input type="hidden" name="attr_swimRoll" value="/em rolls their . . . 
!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Skills (Basic) === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 08/05/2022                                  === |\--
	
	--/| Local Variables --|\

	--/| ===== Roll Queries / Information Lookup =========== |\
	--&skRollMod|?{Modifier|0}
	
	
	--/| ===== Strings =========== |\
	--&skName|Swim
	--&skType|Basic
	--&skAttrAbbr|STR
	
	--/| ===== Numbers =========== |\
	--=skTotal|[[@{swim}]]
	--=skRoll|1d100

	--/| ===== Functions =========== |\
	--=skTarget|[$skTotal] + [&skRollMod]

	--/| TITLE and FORMATTING
	--#title|Skill :: [&skName]
		--#titlecardbackground|#993333
	--#leftsub|Basic Skill
	--#rightsub|[&skAttrAbbr]

	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$skRoll]   [/td][td][$skTarget] [/td][/tr][/t][/c]
	--+|[c] ● Skill Details ● [/c]
	
	--=DegSucess|[$skTarget] - [$skRoll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$skRoll.Total] -le [$skTarget.Total]|Success
	--?[$skRoll.Total] -gt [$skTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|
	
	--?[$skRoll] -lt 10|[
	--&rollStr|0[$skRoll.Raw]
		--]|[
			--&rollStr|[$skRoll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                    <tr data-i18n-list-item="swim">
                        <td><label class="inlineblock"><input type="checkbox" value="1" name="attr_sk-swim"   class="sklabel noshow"> <b title="" data-il8n="swims" data-il8n-title="sk-swim-title">Swim (S)</b></label></td>
                        <td><input name="attr_Swim1" type="checkbox" value="0.5"></td>
                        <td><input name="attr_Swim2" type="checkbox" value="10"></td>
                        <td><input name="attr_Swim3" type="checkbox" value="10"></td>
						<td><input name="attr_Swim4" type="checkbox" value="10"></td>
                        <td style="width:60px"><input name="attr_Swim5" type="number" value="0"></td>
                        <td><button name="roll_Swim" type="roll" value="@{swimRoll}">
                                <input disabled name="attr_Swim" type="number"
                                    value="floor((@{Swim1}+0.5)*@{str-base}+@{Swim2}+@{Swim3}+@{Swim4}+@{Swim5})">
                            </button></td>
                    </tr>
                </table>
				<fieldset class="repeating_basicskills">
<input type="hidden" name="attr_basicRoll" value="/em rolls their . . . 
!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Skills (Basic) === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 07/27/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&skRollMod|?{Modifier|0}
	
	
	--/| ===== Strings =========== |\
	--/| ===== Weapon Type Full Display =========== |\
	
	--?@{basicskillcharacteristic} -eqi @{str-base}|strength
	--?@{basicskillcharacteristic} -eqi @{tou-base}|toughness
	--?@{basicskillcharacteristic} -eqi @{agi-base}|agility
	--?@{basicskillcharacteristic} -eqi @{int-base}|intelligence
	--?@{basicskillcharacteristic} -eqi @{per-base}|perception
	--?@{basicskillcharacteristic} -eqi @{wp-base}|willpower
	--?@{basicskillcharacteristic} -eqi @{fel-base}|fellowship
	--?@{basicskillcharacteristic} -eqi @{inf-base}|influence
	
	--:strength|
		--&skAttrDisplay|Strength
		--^skAttrDisplayDone|
	--:toughness|
		--&skAttrDisplay|Tougness
		--^skAttrDisplayDone|
	--:agility|
		--&skAttrDisplay|Agility
		--^skAttrDisplayDone|
	--:intelligence|
		--&skAttrDisplay|Intelligence
		--^skAttrDisplayDone|
	--:perception|
		--&skAttrDisplay|Perception
		--^skAttrDisplayDone|
	--:willpower|
		--&skAttrDisplay|Willpower
		--^skAttrDisplayDone|
	--:fellowship|
		--&skAttrDisplay|Fellowship
		--^skAttrDisplayDone|
	--:influence|
		--&skAttrDisplay|Influence
		--^skAttrDisplayDone|
	--:skAttrDisplayDone|
	
	--&skName|@{basicskillname}
	--&skType|Basic
	
	--/| ===== Numbers =========== |\
	--=skTotal|[[@{basicskill}]]
	--=skRoll|1d100

	--/| ===== Functions =========== |\
	--=skTarget|[$skTotal] + [&skRollMod]

	--/| TITLE and FORMATTING
	--#title|Skill :: [&skName]
		--#titlecardbackground|#993333
	--#leftsub|Basic Skill
	--/| If the attribute has a zero (0) value or no entry 
	--#rightsub|[&skAttrDisplay]
		
	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$skRoll]   [/td][td][$skTarget] [/td][/tr][/t][/c]
	--+|[c] ● Skill Details ● [/c]
	
	--=DegSucess|[$skTarget] - [$skRoll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$skRoll.Total] -le [$skTarget.Total]|Success
	--?[$skRoll.Total] -gt [$skTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|
	
	--?[$skRoll] -lt 10|[
	--&rollStr|0[$skRoll.Raw]
		--]|[
			--&rollStr|[$skRoll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                    <table class="reptable-bg">
                        <tr>
                            <td>
                                <div class="row">
                                    <div class="item bigger">
                                        <input class="baseinfo" name="attr_basicskillname" type="text">
                                    </div>
                                    <div class="item med">
                                        <select class="charaselect" name="attr_basicskillcharacteristic">
                                            <option value="@{str-base}" data-i18n="(s)">(Str)</option>
                                            <option value="@{tou-base}" data-i18n="(t)">(T)</option>
                                            <option value="@{agi-base}" data-i18n="(ag)">(Ag)</option>
                                            <option value="@{int-base}" data-i18n="(int)">(Int)</option>
                                            <option value="@{per-base}" data-i18n="(per)">(Per)</option>
                                            <option value="@{wp-base}" data-i18n="(wp)">(Wp)</option>
                                            <option value="@{fel-base}" data-i18n="(fel)">(Fel)</option>
											<option value="@{inf-base}" data-i18n="(inf)">(Inf)</option>
                                        </select>
                                    </div>
                                </div>
                            </td>
                            <td><input name="attr_basicskillbox1" type="checkbox" value="0.5"></td>
                            <td><input name="attr_basicskillbox2" type="checkbox" value="10"></td>
                            <td><input name="attr_basicskillbox3" type="checkbox" value="10"></td>
							<td><input name="attr_basicskillbox4" type="checkbox" value="10"></td>
                            <td style="width:60px; min-width:1.8em;"><input name="attr_basicskillbox5" type="number" value="0"></td>
                            <td><button name="roll_basicskill" type="roll" value="@{basicRoll}">
                                    <input disabled name="attr_basicskill" type="number"
                                        value="floor((@{basicskillbox1}+0.5)*@{basicskillcharacteristic}+@{basicskillbox2}+@{basicskillbox3}+@{basicskillbox4}+@{basicskillbox5})">
                                </button></td>
                        </tr>
                    </table>
                </fieldset>

                <h3 data-i18n="weapontrainings">Weapon Trainings</h3>
                <fieldset class="repeating_weapontalents">
                    <div class="row">
                        <div class="item tiny" style="width:25%;">
                            <input name="attr_weapontrainingclass" type="text" style="text-align: right;">
                        </div>
                        <div class="item large">
                            <label data-i18n="weapontraining">Weapon Training</label>
                        </div>
                        <div class="item big brackets">
                            <input name="attr_weapontraining" type="text" style="text-align: center;">
                        </div>
                    </div>
                </fieldset>

                <h3 data-i18n="talents">Talents</h3>
                <fieldset class="repeating_talents">
					<div class="nontable-repeating">
						<div class="small-label2 taltext" style="width:60%;">
							<textarea name="attr_reptalent" class="repnotes" title="@{repeating_talents_$X_reptalent}" placeholder="Talent Name"></textarea>
							<span data-i18n="talent-name">Talent</span>
						</div>
						<label class="small-label2" style="width:35%; top: 1px;">
							<input type="text" name="attr_talentsrc" title="@{repeating_talents_$X_talentsrc} Book and Page" placeholder="Core p. 120"/>
							<span data-i18n="source-abbr">Src.</span>
						</label>
					</div>
                </fieldset>

            </div>

            <!-- Mid Column / Characteristics -->
			
            <div class="col characteristics">

                <h3 data-i18n="characteristics">Characteristics</h3>

                <button name="roll_WS" type="roll" value="!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Ability Scores === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 11/05/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&RollMod|?{Modifier|0}


	--/| ===== Strings =========== |\
	--&charName|@{character_name}
	--&charSPro|@{subjpronoun}
	--&charOPro|@{objpronoun}
	--&charPosPro|@{posspronoun}
	--&charSalu|@{salutation}

	--&RollName|Weapon Skill
	--&RollType|Basic
	--&RollAttrAbbr|WS

	--/| ===== Numbers =========== |\
	--=RollAttrMod|@{ws-mod}
	--=UnAttr|@{ws-unnatural-mod}
	--=RollTotal|[[@{ws-base}]]
	--=Roll|1d100

	--/| ===== Functions =========== |\
	--=RollTarget|[$RollTotal] + [&RollMod]

	--/| TITLE and FORMATTING
	--#title|Skill :: [&RollName]
		--#titlecardbackground|#993333
	--#leftsub|[&RollName] ([&RollAttrAbbr])
	--#rightsub|[&RollAttrAbbr] Mod :: [$RollAttrMod] ([$UnAttr])

	--#emoteText|[&charName] rolls [&charOPro] [&RollName]

	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$Roll]   [/td][td][$RollTarget] [/td][/tr][/t][/c]
	--+|[c] ● Skill Details ● [/c]

	--=DegSucess|[$RollTarget] - [$Roll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$Roll.Total] -le [$RollTarget.Total]|Success
	--?[$Roll.Total] -gt [$RollTarget.Total]|Failure

	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|

	--?[$Roll] -lt 10|[
	--&rollStr|0[$Roll.Raw]
		--]|[
			--&rollStr|[$Roll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
			<label data-i18n="weaponskillws">Weapon Skill (WS)</label></button><br>
			<div>
				<div class="col">
					<div class="unnatural_box">
						<input name="attr_ws-base"      class="unnaturaltext" type="number" value="0">
						<input name="attr_ws-unnatural" class="unnatural"     type="number" style="top: 2.8em" title="Unnatural Weapon Skill" value="0" disabled />
					</div>
				</div>
			</div>
<input type="hidden" name="attr_ws-unnatural-mod"   value="0" title="Unnatural Weapon Skill Modifier"                    readonly />
<input type="hidden" name="attr_ws-mod"             value="0" title="Weapon Skill Modifier"                              readonly />
<input type="hidden" name="attr_ws-final"           value="0" title="(@{ws-final}) Total Base (w/o Unnatural)"           readonly />
<input type="hidden" name="attr_ws-unnatural-final" value="0" title="(@{ws-unnatural-final}) Total Base"                 readonly />

                <button name="roll_BS" type="roll"
                    value="!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Ability Scores === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 11/09/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&RollMod|?{Modifier|0}

	--/| ===== Strings =========== |\
	--&charName|@{character_name}
	--&charSPro|@{subjpronoun}
	--&charOPro|@{objpronoun}
	--&charPosPro|@{posspronoun}
	--&charSalu|@{salutation}

	--&RollName|Ballistic Skill
	--&RollType|Basic
	--&RollAttrAbbr|BS

	--/| ===== Numbers =========== |\
	--=RollAttrMod|@{bs-mod}
	--=UnAttr|@{bs-unnatural-mod}
	--=RollTotal|[[@{bs-base}]]
	--=Roll|1d100

	--/| ===== Functions =========== |\
	--=RollTarget|[$RollTotal] + [&RollMod]

	--/| TITLE and FORMATTING
	--#title|Skill :: [&RollName]
		--#titlecardbackground|#993333
	--#leftsub|[&RollName] ([&RollAttrAbbr])
	--#rightsub|[&RollAttrAbbr] Mod :: [$RollAttrMod] ([$UnAttr])

	--#emoteText|[&charName] rolls [&charOPro] [&RollName]

	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$Roll]   [/td][td][$RollTarget] [/td][/tr][/t][/c]
	--+|[c] ● Skill Details ● [/c]

	--=DegSucess|[$RollTarget] - [$Roll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$Roll.Total] -le [$RollTarget.Total]|Success
	--?[$Roll.Total] -gt [$RollTarget.Total]|Failure

	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|

	--?[$Roll] -lt 10|[
	--&rollStr|0[$Roll.Raw]
		--]|[
			--&rollStr|[$Roll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                    <label data-i18n="ballisticskillbs">Ballistic Skill (BS)</label></button><br>
                <div class="col">
					<div class="unnatural_box">
						<input name="attr_bs-base" class="unnaturaltext" type="number" value="0">
						<input name="attr_bs-unnatural" Title="Unnatural Ballistic Skill" class="unnatural" type="number" value="0" disabled />
					</div>
				</div>
<input type="hidden" name="attr_bs-unnatural-mod"   value="0" title="Unnatural Ballistics Modifier"                      readonly />
<input type="hidden" name="attr_bs-mod"             value="0" title="Ballistics Skill Modifier"                          readonly />
<input type="hidden" name="attr_bs-final"           value="0" title="(@{bs-final}) Total Base (w/o Unnatural)"           readonly />
<input type="hidden" name="attr_bs-unnatural-final" value="0" title="(@{bs-unnatural-final}) Total Base"                 readonly />

                <button name="roll_S" type="roll"
                    value="!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Ability Scores === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 11/09/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&RollMod|?{Modifier|0}

	--/| ===== Strings =========== |\
	--&charName|@{character_name}
	--&charSPro|@{subjpronoun}
	--&charOPro|@{objpronoun}
	--&charPosPro|@{posspronoun}
	--&charSalu|@{salutation}

	--&RollName|Strength
	--&RollType|Basic
	--&RollAttrAbbr|Str

	--/| ===== Numbers =========== |\
	--=RollAttrMod|@{str-mod}
	--=UnAttr|@{str-unnatural-mod}
	--=RollTotal|[[@{str-base}]]
	--=Roll|1d100

	--/| ===== Functions =========== |\
	--=RollTarget|[$RollTotal] + [&RollMod]

	--/| TITLE and FORMATTING
	--#title|Skill :: [&RollName]
		--#titlecardbackground|#993333
	--#leftsub|[&RollName] ([&RollAttrAbbr])
	--#rightsub|[&RollAttrAbbr] Mod :: [$RollAttrMod] ([$UnAttr])

	--#emoteText|[&charName] rolls [&charOPro] [&RollName]

	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$Roll]   [/td][td][$RollTarget] [/td][/tr][/t][/c]
	--+|[c] ● Skill Details ● [/c]

	--=DegSucess|[$RollTarget] - [$Roll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$Roll.Total] -le [$RollTarget.Total]|Success
	--?[$Roll.Total] -gt [$RollTarget.Total]|Failure

	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|

	--?[$Roll] -lt 10|[
	--&rollStr|0[$Roll.Raw]
		--]|[
			--&rollStr|[$Roll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                    <label data-i18n="strengths">Strength (STR)</label></button><br>
                <div class="col">
					<div class="unnatural_box">
						<input name="attr_str-base" class="unnaturaltext" type="number" value="0">
						<input name="attr_str-unnatural" Title="Unnatural Strength" class="unnatural" type="number" value="0" />
					</div>
				</div>
<input type="hidden" name="attr_str-unnatural-mod"   value="0" title="Unnatural Strength Modifier"                         readonly />
<input type="hidden" name="attr_str-mod"             value="0" title="Strength Modifier"                                   readonly />
<input type="hidden" name="attr_str-final"           value="0" title="(@{str-final}) Total Base (w/o Unnatural)"           readonly />
<input type="hidden" name="attr_str-unnatural-final" value="0" title="(@{str-unnatural-final}) Total Base"                 readonly />

                <button name="roll_T" type="roll"
                    value="!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Ability Scores === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 11/09/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&RollMod|?{Modifier|0}

	--/| ===== Strings =========== |\
	--&charName|@{character_name}
	--&charSPro|@{subjpronoun}
	--&charOPro|@{objpronoun}
	--&charPosPro|@{posspronoun}
	--&charSalu|@{salutation}

	--&RollName|Toughness
	--&RollType|Basic
	--&RollAttrAbbr|Tou

	--/| ===== Numbers =========== |\
	--=RollAttrMod|@{tou-mod}
	--=UnAttr|@{tou-unnatural-mod}
	--=RollTotal|[[@{tou-base}]]
	--=Roll|1d100

	--/| ===== Functions =========== |\
	--=RollTarget|[$RollTotal] + [&RollMod]

	--/| TITLE and FORMATTING
	--#title|Skill :: [&RollName]
		--#titlecardbackground|#993333
	--#leftsub|[&RollName] ([&RollAttrAbbr])
	--#rightsub|[&RollAttrAbbr] Mod :: [$RollAttrMod] ([$UnAttr])

	--#emoteText|[&charName] rolls [&charOPro] [&RollName]

	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$Roll]   [/td][td][$RollTarget] [/td][/tr][/t][/c]
	--+|[c] ● Skill Details ● [/c]

	--=DegSucess|[$RollTarget] - [$Roll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$Roll.Total] -le [$RollTarget.Total]|Success
	--?[$Roll.Total] -gt [$RollTarget.Total]|Failure

	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|

	--?[$Roll] -lt 10|[
	--&rollStr|0[$Roll.Raw]
		--]|[
			--&rollStr|[$Roll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                    <label data-i18n="toughnesst">Toughness (Tou)</label></button><br>
                <div class="col">
					<div class="unnatural_box">
						<input name="attr_tou-base" class="unnaturaltext"  type="number" value="0">
						<input name="attr_tou-unnatural" Title="Unnatural Toughness" class="unnatural" type="number" value="0" />
						<input type="hidden" name="attr_tou-unnatural-mod" value="[[ [[@{tou-mod}]] * @{tou-unnatural} ]]">
					</div>
				</div>
<input type="hidden" name="attr_tou-unnatural-mod"   value="0" title="Unnatural Toughness Modifier"                        readonly />
<input type="hidden" name="attr_tou-mod"             value="0" title="Toughness Skill Modifier"                            readonly />
<input type="hidden" name="attr_tou-final"           value="0" title="(@{tou-final}) Total Base (w/o Unnatural)"           readonly />
<input type="hidden" name="attr_tou-unnatural-final" value="0" title="(@{tou-unnatural-final}) Total Base"                 readonly />

                <button name="roll_Ag" type="roll"
                    value="!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Ability Scores === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 11/09/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&RollMod|?{Modifier|0}

	--/| ===== Strings =========== |\
	--&charName|@{character_name}
	--&charSPro|@{subjpronoun}
	--&charOPro|@{objpronoun}
	--&charPosPro|@{posspronoun}
	--&charSalu|@{salutation}

	--&RollName|Agility
	--&RollType|Basic
	--&RollAttrAbbr|Agi

	--/| ===== Numbers =========== |\
	--=RollAttrMod|@{agi-mod}
	--=UnAttr|@{agi-unnatural-mod}
	--=RollTotal|[[@{agi-base}]]
	--=Roll|1d100

	--/| ===== Functions =========== |\
	--=RollTarget|[$RollTotal] + [&RollMod]

	--/| TITLE and FORMATTING
	--#title|Skill :: [&RollName]
		--#titlecardbackground|#993333
	--#leftsub|[&RollName] ([&RollAttrAbbr])
	--#rightsub|[&RollAttrAbbr] Mod :: [$RollAttrMod] ([$UnAttr])

	--#emoteText|[&charName] rolls [&charOPro] [&RollName]

	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$Roll]   [/td][td][$RollTarget] [/td][/tr][/t][/c]
	--+|[c] ● Skill Details ● [/c]

	--=DegSucess|[$RollTarget] - [$Roll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$Roll.Total] -le [$RollTarget.Total]|Success
	--?[$Roll.Total] -gt [$RollTarget.Total]|Failure

	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|

	--?[$Roll] -lt 10|[
	--&rollStr|0[$Roll.Raw]
		--]|[
			--&rollStr|[$Roll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                    <label data-i18n="agilityag">Agility (Ag)</label></button><br>
                <div class="col">
					<div class="unnatural_box">
						<input name="attr_agi-base" class="unnaturaltext"  type="number" value="0">
						<input name="attr_agi-unnatural" Title="Unnatural Agility" class="unnatural" type="number" value="0" />
						<input type="hidden" name="attr_agi-unnatural-mod" value="[[ [[@{agi-mod}]] * @{agi-unnatural} ]]">
					</div>
				</div>
<input type="hidden" name="attr_agi-unnatural-mod"   value="0" title="Unnatural Agility Modifier"                          readonly />
<input type="hidden" name="attr_agi-mod"             value="0" title="Agility Skill Modifier"                              readonly />
<input type="hidden" name="attr_agi-final"           value="0" title="(@{agi-final}) Total Base (w/o Unnatural)"           readonly />
<input type="hidden" name="attr_agi-unnatural-final" value="0" title="(@{agi-unnatural-final}) Total Base"                 readonly />

                <button name="roll_Int" type="roll"
                    value="!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Ability Scores === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 11/09/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&RollMod|?{Modifier|0}
	
	
	--/| ===== Strings =========== |\
	--&charName|@{character_name}
	--&charSPro|@{subjpronoun}
	--&charOPro|@{objpronoun}
	--&charPosPro|@{posspronoun}
	--&charSalu|@{salutation}
	--&RollName|Intelligence
	--&RollType|Basic
	--&RollAttrAbbr|Int
	
	--/| ===== Numbers =========== |\
	--=RollAttrMod|@{int-mod}
	--=UnAttr|@{int-unnatural-mod}
	--=RollTotal|[[@{int-base}]]
	--=Roll|1d100

	--/| ===== Functions =========== |\
	--=RollTarget|[$RollTotal] + [&RollMod]

	--/| TITLE and FORMATTING
	--#title|Ability :: [&RollName]
		--#titlecardbackground|#993333
	--#leftsub|[&RollName] ([&RollAttrAbbr])
	--#rightsub|[&RollAttrAbbr] Mod :: [$RollAttrMod] ([$UnAttr])
	
	--#emoteText|[&charName] rolls [&charOPro] [&RollName]
		
	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$Roll]   [/td][td][$RollTarget] [/td][/tr][/t][/c]
	--+|[c] ● Ability Details ● [/c]
	
	--=DegSucess|[$RollTarget] - [$Roll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$Roll.Total] -le [$RollTarget.Total]|Success
	--?[$Roll.Total] -gt [$RollTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|
	
	--?[$Roll] -lt 10|[
	--&rollStr|0[$Roll.Raw]
		--]|[
			--&rollStr|[$Roll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                    <label data-i18n="intelligenceint">Intelligence (Int)</label></button><br>
                <div class="col">
					<div class="unnatural_box">
						<input name="attr_int-base" class="unnaturaltext"  type="number" value="0">
						<input name="attr_int-unnatural" Title="Unnatural Intelligence" class="unnatural" type="number" value="0" />
					</div>
				</div>
<input type="hidden" name="attr_int-mod"             value="0" title="Unnatural Intelligence Modifier"                     readonly />
<input type="hidden" name="attr_int-unnatural-mod"   value="0" title="Intelligence Modifier"                               readonly />
<input type="hidden" name="attr_int-final"           value="0" title="(@{int-final}) Total Base (w/o Unnatural)"           readonly />
<input type="hidden" name="attr_int-unnatural-final" value="0" title="(@{int-unnatural-final}) Total Base"                 readonly />


                <button name="roll_Per" type="roll"
                    value="!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Ability Scores === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 11/09/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&RollMod|?{Modifier|0}
	
	
	--/| ===== Strings =========== |\
	--&charName|@{character_name}
	--&charSPro|@{subjpronoun}
	--&charOPro|@{objpronoun}
	--&charPosPro|@{posspronoun}
	--&charSalu|@{salutation}
	--&RollName|Perception
	--&RollType|Basic
	--&RollAttrAbbr|Per
	
	--/| ===== Numbers =========== |\
	--=RollAttrMod|@{per-mod}
	--=UnAttr|@{per-unnatural-mod}
	--=RollTotal|[[@{per-base}]]
	--=Roll|1d100

	--/| ===== Functions =========== |\
	--=RollTarget|[$RollTotal] + [&RollMod]

	--/| TITLE and FORMATTING
	--#title|Ability :: [&RollName]
		--#titlecardbackground|#993333
	--#leftsub|[&RollName] ([&RollAttrAbbr])
	--#rightsub|[&RollAttrAbbr] Mod :: [$RollAttrMod] ([$UnAttr])
	
	--#emoteText|[&charName] rolls [&charOPro] [&RollName]
		
	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$Roll]   [/td][td][$RollTarget] [/td][/tr][/t][/c]
	--+|[c] ● Ability Details ● [/c]
	
	--=DegSucess|[$RollTarget] - [$Roll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$Roll.Total] -le [$RollTarget.Total]|Success
	--?[$Roll.Total] -gt [$RollTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|
	
	--?[$Roll] -lt 10|[
	--&rollStr|0[$Roll.Raw]
		--]|[
			--&rollStr|[$Roll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                    <label data-i18n="perceptionper">Perception (Per)</label></button><br>
                <div class="col">
					<div class="unnatural_box">
						<input name="attr_per-base" class="unnaturaltext" type="number" value="0">
						<input name="attr_per-unnatural" Title="Unnatural Perception" class="unnatural" type="number" value="0" />
					</div>
				</div>
<input type="hidden" name="attr_per-unnatural-mod"   value="0" title="Unnatural Perception Modifier"                       readonly />
<input type="hidden" name="attr_per-mod"             value="0" title="Perception Modifier"                                 readonly />
<input type="hidden" name="attr_per-final"           value="0" title="(@{per-final}) Total Base (w/o Unnatural)"           readonly />
<input type="hidden" name="attr_per-unnatural-final" value="0" title="(@{per-unnatural-final}) Total Base"                 readonly />

                <button name="roll_Wp" type="roll"
                    value="!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Ability Scores === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 11/09/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&RollMod|?{Modifier|0}
	
	
	--/| ===== Strings =========== |\
	--&charName|@{character_name}
	--&charSPro|@{subjpronoun}
	--&charOPro|@{objpronoun}
	--&charPosPro|@{posspronoun}
	--&charSalu|@{salutation}
	--&RollName|Willpower
	--&RollType|Basic
	--&RollAttrAbbr|WP
	
	--/| ===== Numbers =========== |\
	--=RollAttrMod|@{wp-mod}
	--=UnAttr|@{wp-unnatural-mod}
	--=RollTotal|[[@{wp-base}]]
	--=Roll|1d100

	--/| ===== Functions =========== |\
	--=RollTarget|[$RollTotal] + [&RollMod]

	--/| TITLE and FORMATTING
	--#title|Ability :: [&RollName]
		--#titlecardbackground|#993333
	--#leftsub|[&RollName] ([&RollAttrAbbr])
	--#rightsub|[&RollAttrAbbr] Mod :: [$RollAttrMod] ([$UnAttr])
	
	--#emoteText|[&charName] rolls [&charOPro] [&RollName]
		
	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$Roll]   [/td][td][$RollTarget] [/td][/tr][/t][/c]
	--+|[c] ● Ability Details ● [/c]
	
	--=DegSucess|[$RollTarget] - [$Roll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$Roll.Total] -le [$RollTarget.Total]|Success
	--?[$Roll.Total] -gt [$RollTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|
	
	--?[$Roll] -lt 10|[
	--&rollStr|0[$Roll.Raw]
		--]|[
			--&rollStr|[$Roll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                    <label data-i18n="willpowerwp">Willpower (Wp)</label></button><br>
                <div class="col">
					<div class="unnatural_box">
						<input name="attr_wp-base" class="unnaturaltext" type="number" value="0">
						<input name="attr_wp-unnatural" Title="Unnatural Willpower" class="unnatural" type="number" value="0" />
					</div>
				</div>
<input type="hidden" name="attr_wp-unnatural-mod"   value="0" title="Unnatural Willpower Modifier"                       readonly />
<input type="hidden" name="attr_wp-mod"             value="0" title="Willpower Modifier"                                 readonly />
<input type="hidden" name="attr_wp-final"           value="0" title="(@{wp-final}) Total Base (w/o Unnatural)"           readonly />
<input type="hidden" name="attr_wp-unnatural-final" value="0" title="(@{wp-unnatural-final}) Total Base"                 readonly />

                <button name="roll_Fel" type="roll"
                    value="!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Ability Scores === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 11/09/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&RollMod|?{Modifier|0}
	
	
	--/| ===== Strings =========== |\
	--&charName|@{character_name}
	--&charSPro|@{subjpronoun}
	--&charOPro|@{objpronoun}
	--&charPosPro|@{posspronoun}
	--&charSalu|@{salutation}
	--&RollName|Fellowship
	--&RollType|Basic
	--&RollAttrAbbr|Fel
	
	--/| ===== Numbers =========== |\
	--=RollAttrMod|@{fel-mod}
	--=UnAttr|@{fel-unnatural-mod}
	--=RollTotal|[[@{fel-base}]]
	--=Roll|1d100

	--/| ===== Functions =========== |\
	--=RollTarget|[$RollTotal] + [&RollMod]

	--/| TITLE and FORMATTING
	--#title|Ability :: [&RollName]
		--#titlecardbackground|#993333
	--#leftsub|[&RollName] ([&RollAttrAbbr])
	--#rightsub|[&RollAttrAbbr] Mod :: [$RollAttrMod] ([$UnAttr])
	
	--#emoteText|[&charName] rolls [&charOPro] [&RollName]
		
	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$Roll]   [/td][td][$RollTarget] [/td][/tr][/t][/c]
	--+|[c] ● Ability Details ● [/c]
	
	--=DegSucess|[$RollTarget] - [$Roll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$Roll.Total] -le [$RollTarget.Total]|Success
	--?[$Roll.Total] -gt [$RollTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|
	
	--?[$Roll] -lt 10|[
	--&rollStr|0[$Roll.Raw]
		--]|[
			--&rollStr|[$Roll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                    <label data-i18n="fellowshi`fel">Fellowship (Fel)</label></button><br>
                <div class="col">
					<div class="unnatural_box">
						<input name="attr_fel-base" class="unnaturaltext"  type="number" value="0">
						<input name="attr_fel-unnatural" Title="Unnatural Fellowship" class="unnatural" type="number" value="0" />
					</div>
				</div>
<input type="hidden" name="attr_fel-unnatural-mod"   value="0" title="Unnatural Willpower Modifier"                        readonly />
<input type="hidden" name="attr_fel-mod"             value="0" title="Willpower Modifier"                                  readonly />
<input type="hidden" name="attr_fel-final"           value="0" title="(@{fel-final}) Total Base (w/o Unnatural)"           readonly />
<input type="hidden" name="attr_fel-unnatural-final" value="0" title="(@{fel-unnatural-final}) Total Base"                 readonly />

				<button name="roll_Inf" type="roll"
                    value="!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Ability Scores === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 11/09/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&RollMod|?{Modifier|0}
	
	
	--/| ===== Strings =========== |\
	--&charName|@{character_name}
	--&charSPro|@{subjpronoun}
	--&charOPro|@{objpronoun}
	--&charPosPro|@{posspronoun}
	--&charSalu|@{salutation}
	--&RollName|Influence
	--&RollType|Basic
	--&RollAttrAbbr|Inf
	
	--/| ===== Numbers =========== |\
	--=RollAttrMod|@{inf-mod}
	--=UnAttr|@{fel-unnatural-mod}
	--=RollTotal|[[@{inf-base}]]
	--=Roll|1d100

	--/| ===== Functions =========== |\
	--=RollTarget|[$RollTotal] + [&RollMod]

	--/| TITLE and FORMATTING
	--#title|Ability :: [&RollName]
		--#titlecardbackground|#993333
	--#leftsub|[&RollName] ([&RollAttrAbbr])
	--#rightsub|[&RollAttrAbbr] Mod :: [$RollAttrMod] ([$UnAttr])
	
	--#emoteText|[&charName] rolls [&charOPro] [&RollName]
		
	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$Roll]   [/td][td][$RollTarget] [/td][/tr][/t][/c]
	--+|[c] ● Ability Details ● [/c]
	
	--=DegSucess|[$RollTarget] - [$Roll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$Roll.Total] -le [$RollTarget.Total]|Success
	--?[$Roll.Total] -gt [$RollTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|
	
	--?[$Roll] -lt 10|[
	--&rollStr|0[$Roll.Raw]
		--]|[
			--&rollStr|[$Roll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
					<label data-i18n="influenceinf">Influence Skill (Inf)</label></button><br>
				<div class="col">
					<div class="unnatural_box">
						<input name="attr_inf-base" class="unnaturaltext"  type="number" value="0">
						<input name="attr_inf-unnatural" class="unnatural" type="number" style="top: 2.8em" title="Unnatural Influence" value="0" disabled />
					</div>
				</div>
			
<input type="hidden" name="attr_inf-unnatural-mod"   value="0" title="Unnatural Influence Modifier"                        readonly />
<input type="hidden" name="attr_inf-mod"             value="0" title="Influence Modifier"                                  readonly />
<input type="hidden" name="attr_inf-final"           value="0" title="(@{inf-final}) Total Base (w/o Unnatural)"           readonly />
<input type="hidden" name="attr_inf-unnatural-final" value="0" title="(@{inf-unnatural-final}) Total Base"                 readonly />

            </div>

            <!-- Right Column -->

            <div class="col skills">
                <hr>
                <h3 data-i18n="advancedskills">Advanced Skills</h3>
				<div class="table">
					<span class="table-name">Advanced Skills</span>
					<div class="table-row">
						<span class="table-header">0</span>
						<span class="table-header">1</span>
						<span class="table-header">2</span>
						<span class="table-header">3</span>
						<span class="table-header">4</span>
						<span class="table-header">5</span>
						<span class="table-header">6</span>
						<span class="table-header">7</span>
						<span class="table-header">8</span>
						<span class="table-header">9</span>
						<span class="table-header">10</span>
						<span class="table-header">11</span>
						<span class="table-header">12</span>
					</div>
					<div class="table-row">
						<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_advancedskills_$0_advanceskill}" class="dice" value="%{selected|repeating_advancedskills_$0_advanceskill}">t</button></span>
						<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_advancedskills_$1_advanceskill}" class="dice" value="%{selected|repeating_advancedskills_$1_advanceskill}">t</button></span>
						<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_advancedskills_$2_advanceskill}" class="dice" value="%{selected|repeating_advancedskills_$2_advanceskill}">t</button></span>
						<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_advancedskills_$3_advanceskill}" class="dice" value="%{selected|repeating_advancedskills_$3_advanceskill}">t</button></span>
						<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_advancedskills_$4_advanceskill}" class="dice" value="%{selected|repeating_advancedskills_$4_advanceskill}">t</button></span>
						<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_advancedskills_$5_advanceskill}" class="dice" value="%{selected|repeating_advancedskills_$5_advanceskill}">t</button></span>
						<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_advancedskills_$6_advanceskill}" class="dice" value="%{selected|repeating_advancedskills_$6_advanceskill}">t</button></span>
						<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_advancedskills_$7_advanceskill}" class="dice" value="%{selected|repeating_advancedskills_$7_advanceskill}">t</button></span>
						<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_advancedskills_$8_advanceskill}" class="dice" value="%{selected|repeating_advancedskills_$8_advanceskill}">t</button></span>
						<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_advancedskills_$9_advanceskill}" class="dice" value="%{selected|repeating_advancedskills_$9_advanceskill}">t</button></span>
						<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_advancedskills_$10_advanceskill}" class="dice" value="%{selected|repeating_advancedskills_$10_advanceskill}">t</button></span>
						<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_advancedskills_$11_advanceskill}" class="dice" value="%{selected|repeating_advancedskills_$11_advanceskill}">t</button></span>
						<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_advancedskills_$12_advanceskill}" class="dice" value="%{selected|repeating_advancedskills_$12_advanceskill}">t</button></span>
					</div>
				</div>
                <table style="border: 1 solid black;">
                    <tr>
                        <th data-i18n="skillname">Skill Name</th>
                        <th>&nbsp;</th>
                        <th>10</th>
                        <th>20</th>
						<th>30</th>
                        <th style="width:60px; text-align: center;">&nbsp;</th>
                        <th style="text-align: center;" data-i18n="roll">Roll</th>
                    </tr>
                    <tr>
                        <td><label class="inlineblock"><input type="checkbox" value="1" name="attr_sk-lowgothic-lang"   class="sklabel noshow"> <b title="" data-il8n="speaklanguagelowgothic" data-il8n-title="sk-lowgothic-title">SL (Low Gothic)</b></label></td>
                        <td><input name="attr_speaklow1" type="checkbox" value="0.5"></td>
                        <td><input name="attr_speaklow2" type="checkbox" value="10"></td>
                        <td><input name="attr_speaklow3" type="checkbox" value="10"></td>
						<td><input name="attr_speaklow4" type="checkbox" value="10"></td>
                        <td style="width:60px; min-width:1.8em;"><input name="attr_speaklow5" type="number" value="0"></td>
                        <td><button name="roll_speaklow" type="roll" value="@{speakLowRoll}">
<input type="hidden" name="attr_speakLowRoll" value="/em rolls their . . . 
!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Skills (Basic) === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 08/05/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&skRollMod|?{Modifier|0}
	
	--/| ===== Strings =========== |\
	--&skName|Speak Language (Low Gothic)
	--&skType|Advanced
	--&skAttrAbbr|Int
	
	--/| ===== Numbers =========== |\
	--=skTotal|[[@{speaklow}]]
	--=skRoll|1d100

	--/| ===== Functions =========== |\
	--=skTarget|[$skTotal] + [&skRollMod]

	--/| TITLE and FORMATTING
	--#title|Skill :: [&skName]
		--#titlecardbackground|#993333
	--#leftsub|Basic Skill
	--#rightsub|Strength
		
	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$skRoll]   [/td][td][$skTarget] [/td][/tr][/t][/c]
	--+|[c] ● Skill Details ● [/c]
	
	--=DegSucess|[$skTarget] - [$skRoll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$skRoll.Total] -le [$skTarget.Total]|Success
	--?[$skRoll.Total] -gt [$skTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|
	
	--?[$skRoll] -lt 10|[
	--&rollStr|0[$skRoll.Raw]
		--]|[
			--&rollStr|[$skRoll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                                <input disabled name="attr_speaklow" type="number"
                                    value="floor((@{speaklow1}+0.5)*@{int-base}+@{speaklow2}+@{speaklow3}+@{speaklow4}+@{speaklow5})">
                            </button></td>
                    </tr>
                </table>
                <fieldset class="repeating_advancedskills">
                    <table class="reptable-bg">
                        <tr>
                            <td>
                                <div class="row">
                                    <div class="item bigger">
                                        <input class="baseinfo" name="attr_advancedskillname" type="text">
                                    </div>
                                    <div class="item med">
                                        <select class="charaselect" name="attr_advancedskillcharacteristic">
                                            <option value="@{str-base}" data-i18n="(s)">(S)</option>
                                            <option value="@{tou-base}" data-i18n="(t)">(T)</option>
                                            <option value="@{agi-base}" data-i18n="(ag)">(Ag)</option>
                                            <option value="@{int-base}" data-i18n="(int)">(Int)</option>
                                            <option value="@{per-base}" data-i18n="(per)">(Per)</option>
                                            <option value="@{wp-base}" data-i18n="(wp)">(Wp)</option>
                                            <option value="@{fel-base}" data-i18n="(fel)">(Fel)</option>
											<option value="@{inf-base}" data-i18n="(inf)">(Inf)</option>
                                        </select>
                                    </div>
                                </div>
                            </td>
                            <td><input name="attr_advancedskillbox1" type="checkbox" value="0.5"></td>
                            <td><input name="attr_advancedskillbox2" type="checkbox" value="10"></td>
                            <td><input name="attr_advancedskillbox3" type="checkbox" value="10"></td>
							<td><input name="attr_advancedskillbox4" type="checkbox" value="10"></td>
                            <td style="width:60px;min-width:1.8em;"><input name="attr_advancedskillbox5" type="number" value="0"></td>
                            <td><button name="roll_advanceskill" type="roll"
                                    value="/em rolls their . . . 
!scriptcards {{
	--/| === ScriptCard Layout for Non-Repeaing Skills (Advanced) === |\--
	--/| === Version 0.1a                                      === |\--
	--/| === Date: 07/27/2022                                  === |\--
	
	--/| Local Variables --|\
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&skRollMod|?{Modifier|0}
	
	
	--/| ===== Strings =========== |\
	--/| ===== Weapon Type Full Display =========== |\
	
	--?@{advancedskillcharacteristic} -eqi @{str-base}|strength
	--?@{advancedskillcharacteristic} -eqi @{tou-base}|toughness
	--?@{advancedskillcharacteristic} -eqi @{agi-base}|agility
	--?@{advancedskillcharacteristic} -eqi @{int-base}|intelligence
	--?@{advancedskillcharacteristic} -eqi @{per-base}|perception
	--?@{advancedskillcharacteristic} -eqi @{wp-base}|willpower
	--?@{advancedskillcharacteristic} -eqi @{fel-base}|fellowship
	--?@{advancedskillcharacteristic} -eqi @{inf-base}|influence
	
	--:strength|
		--&skAttrDisplay|Strength
		--^skAttrDisplayDone|
	--:toughness|
		--&skAttrDisplay|Tougness
		--^skAttrDisplayDone|
	--:agility|
		--&skAttrDisplay|Agility
		--^skAttrDisplayDone|
	--:intelligence|
		--&skAttrDisplay|Intelligence
		--^skAttrDisplayDone|
	--:perception|
		--&skAttrDisplay|Perception
		--^skAttrDisplayDone|
	--:willpower|
		--&skAttrDisplay|Willpower
		--^skAttrDisplayDone|
	--:fellowship|
		--&skAttrDisplay|Fellowship
		--^skAttrDisplayDone|
	--:influence|
		--&skAttrDisplay|Influence
		--^skAttrDisplayDone|
	--:skAttrDisplayDone|
	
	--&skName|@{advancedskillname}
	--&skType|Advanced
	
	--/| ===== Numbers =========== |\
	--=skTotal|[[@{advancedskill}]]
	--=skRoll|1d100

	--/| ===== Functions =========== |\
	--=skTarget|[$skTotal] + [&skRollMod]

	--/| TITLE and FORMATTING
	--#title|Skill :: [&skName]
		--#titlecardbackground|#993333
	--#leftsub|Advanced Skill
	--/| If the attribute has a zero (0) value or no entry 
	--#rightsub|[&skAttrDisplay]
		
	--/| === WEAPON DETAILS ===
	--+|[c][t border=2 width=95% align=center][tr][td][b]Dice Roll  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$skRoll]   [/td][td][$skTarget] [/td][/tr][/t][/c]
	--+|[c] ● Skill Details ● [/c]
	
	--=DegSucess|[$skTarget] - [$skRoll] \ 10
	--/| ====== Check if Skill is less than the test THRESHOLD
	--?[$skRoll.Total] -le [$skTarget.Total]|Success
	--?[$skRoll.Total] -gt [$skTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]Success! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]Failure! ([$DegSucess.Total])[/#][/c]|
		--^Done|
	--:Done|
	
	--?[$skRoll] -lt 10|[
	--&rollStr|0[$skRoll.Raw]
		--]|[
			--&rollStr|[$skRoll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]

}}">
                                    <input disabled name="attr_advancedskill" type="number"
                                        value="floor((@{advancedskillbox1}+0.5)*@{advancedskillcharacteristic}+@{advancedskillbox2}+@{advancedskillbox3}+@{advancedskillbox4}+@{advancedskillbox5})">
                                </button></td>
                        </tr>
                    </table>
                </fieldset>
                <hr>
                <!-- ATTENTION PSYKERS AHEAD! -->
			<input type="checkbox" name="attr_cfg-psyker-toggle" value="1" class="nextitem-show">
			<div> <!-- Psychic Powers Wrapper -->
                <h3 data-i18n="psychicpowers">Psychic Powers</h3>
                <div class="row">
                    <div class="item" style="width:37.5%">
                        <label data-i18n="psychicdiscipline">Psychic Discipline</label>
                    </div>
                    <div class="item morebig">
                        <input name="attr_psychicdiscipline" type="text">
                    </div>
                    <div class="item puny">
                        <button name="roll_psycicpower" type="roll"
                            value="@{abilityroll} &{template:dh1ed} {{rollname=@{psychicdiscipline}}} {{psy=[[((?{Psy Rating|1}d10cs9cf11)+[[floor(@{wp-base}/10)]]+?{Modifier|0})]]}}"><label>Psy</label></button>
                    </div>
                </div>
                <fieldset class="repeating_psychicdiscipline">
                    <div class="row">
                        <div class="item" style="width:37.5%">
                            <label data-i18n="psychicdiscipline">Psychic Discipline</label>
                        </div>
                        <div class="item morebig">
                            <input name="attr_reppsychicdiscipline" type="text">
                        </div>
                        <div class="item puny">
                            <button name="roll_reppsycicpower" type="roll"
                                value="@{abilityroll} &{template:dh1ed} {{rollname=@{reppsychicdiscipline}}} {{psy=[[((?{Psy Rating|1}d10cs9cf11)+[[floor(@{wp-base}/10)]]+?{Modifier|0})]]}}"><label>Psy</label></button>
                        </div>
                    </div>
                </fieldset>
				<!-- Minor Powers -->
				<fieldset class="repeating_minorpsychicpowers">
                    <div class="row">
                        <div class="item tight">
                            <input name="attr_repminorpsychicpower" type="text" style="text-align: right;">
                        </div>
                        <div class="item tight brackets">
                            <input name="attr_minorpowerpage" type="text" style="text-align: center;">
                        </div>
						<div class="item tight">
                            <button name="roll_repminorpower" type="roll"
                                value="@{abilityroll} &{template:dh1ed} {{rollname=@{repminorpsychicpower}}} {{threshold=[[?{Threshold|7}]]}} {{psy=[[((?{Psy Rating|1}d10cs9cf11)+[[floor(@{wp-base}/10)]]+?{Modifier|0})]]}}"><label>Psy</label></button>
                        </div>
                    </div>
                </fieldset>
				<!-- Discipline Powers -->
                <fieldset class="repeating_disciplinepsychicpowers">
                    <div class="row">
                        <div class="item large">
                            <label data-i18n="disciplinepower">Discipline Power</label>
                        </div>
                        <div class="item morebig brackets">
                            <input name="attr_repdisciplinepsychicpower" type="text">
                        </div>
                        <div class="item puny">
                            <button name="roll_repdisciplinepower" type="roll"
                                value="@{abilityroll} &{template:dh1ed} {{rollname=@{repdisciplinepsychicpower}}} {{threshold=[[?{Threshold|7}]]}} {{psy=[[((?{Psy Rating|1}d10cs9cf11)+[[floor(@{wp-base}/10)]]+?{Modifier|0})]]}}"><label>Psy</label></button>
                        </div>
                    </div>
                </fieldset>
			</div>
                <!-- Mutations anyone? -->

                <h3 data-i18n="mutations">Mutations</h3>
                <textarea name="attr_mutations" class="usrInput" style="width:95%; margin:auto; height:75px;"></textarea>

                <h3 data-i18n="traits">Traits</h3>
                <fieldset class="repeating_talents2">
                    <input name="attr_reptalent2" type="text">
                </fieldset>
				<fieldset class="repeating_traits">
					<div class="nontable-repeating">
						<div class="small-label2 taltext" style="width:60%;">
							<textarea name="attr_reptalent" class="repnotes" title="@{repeating_talents_$X_reptrait}" placeholder="Trait Name"></textarea>
							<span data-i18n="talent-name">Traits</span>
						</div>
						<label class="small-label2" style="width:35%; top: 1px;">
							<input type="text" name="attr_traitsrc" title="@{repeating_talents_$X_talentsrc} Book and Page" placeholder="Core p. 120"/>
							<span data-i18n="source-abbr">Src.</span>
						</label>
					</div>
                </fieldset>
            </div>
        </div>

<hr>
        <!-- Page 2 -->


        <div class="II-colrow">

            <div class="col">
                <!-- Initiative -->
                <h3 data-i18n="initiative">Initiative</h3>
                <div class="row">
                    <div class="item" style="width: 15%">
                    </div>
                    <div class="item redbgns" style="width: 20%">
                        <button name="roll_Initiative" title="Select your token first!" type="roll"
                            value="!scriptcards {{
								--/| === ScriptCard Layout for Initiative Rolls === |\--
								--/| === Version 1.0a                           === |\--
								--/| === Date: 10/14/2022                       === |\--
								
								--/| Set source token (for avatar image and *S references) 
								--#sourceToken|@{selected|token_id}
								
								--/| ===== Roll Queries / Information Lookup ===========
								--&initRollMod|?{Modifier|0}
								
								--/| ===== Strings =========== 
								--&initType|Standard

								--/| ===== Numbers ===========
								--=initAttrMod|@{selected|agi-mod} {FLOOR}
								--=initRoll|1d10 + [$initAttrMod.Raw] [AGI] + [&initRollMod] [MOD]

								--/| Add to Initiative Tracker (replace if already there)
								--~|turnorder;replacetoken;[*S:t-id];[$initRoll.Raw]

								--/| TITLE and FORMATTING
								--#title|Initiative :: [&initType]
								--#titlecardbackground|#993333
								--#leftsub|1d10
								--#rightsub|Agi Mod ([$initAttrMod])
								
								--#emoteText|[*S:t-name] rolls Initiative
									
								--/| === WEAPON DETAILS ===
								--+|[c][t border=2 width=95% align=center][tr][td][b]Initiative  [/b][/td][/tr][tr][td][$initRoll]   [/td][/tr][/t][/c]
								--+|[c] ● Skill Details ● [/c]
							}}"
						class="btn ui-draggable"><label data-i18n="fromag">From Ag</label></button>
                    </div>
                    <div class="item" style="width: 15%">
                    </div>
                    <div class="item" style="width: 30%">
                        <input name="attr_CInitiativeInput" type="text" value="1d10">
                    </div>
                    <div class="item" style="width: 20%">
                        <button name="roll_CInitiative" title="Select your token first!" type="roll"
                            value="!scriptcards {{
								--/| === ScriptCard Layout for Initiative Rolls === |\--
								--/| === Version 1.0a                           === |\--
								--/| === Date: 10/14/2022                       === |\--
								
								--/| Set source token (for avatar image and *S references) 
								--#sourceToken|@{selected|token_id}
								
								--/| ===== Roll Queries / Information Lookup ===========
								--&initRollMod|?{Modifier|0}
								
								--/| ===== Strings =========== 
								--&initType|Standard

								--/| ===== Numbers ===========
								--=initAttrMod|@{selected|agi-mod} {FLOOR}
								--=initRoll|@{CInitiativeInput}

								--/| Add to Initiative Tracker (replace if already there)
								--~|turnorder;replacetoken;[*S:t-id];[$initRoll.Raw]

								--/| TITLE and FORMATTING
								--#title|Initiative :: [&initType]
								--#titlecardbackground|#993333
								--#leftsub|@{CInitiativeInput}
								--#rightsub|Agi Mod ([$initAttrMod])
								
								--#emoteText|[*S:t-name] rolls Initiative
									
								--/| === WEAPON DETAILS ===
								--+|[c][t border=2 width=95% align=center][tr][td][b]Initiative  [/b][/td][/tr][tr][td][$initRoll]   [/td][/tr][/t][/c]
								--+|[c] ● Skill Details ● [/c]
							}}"
						class="btn ui-draggable"><label data-i18n="cust">Custom</label></button>
                    </div>
                </div>

                <br>
				<div class="quickborder">
					<h3>Movement</h3>
					<div class="item" style="width: 22%"><label>Unnatural ?: </label></div>
					<div class="item" style="width: 25%">
						<select class="sizeselect" name="attr_spd-mod">
							<option value="@{agi-final}">Normal</option>
							<option value="@{agi-final}*2">Unnatural</option>
							<!--<option value="-3"></option><input type="hidden" name="attr_agi-mod"             value="0" title="Agility Skill Modifier"                              readonly />
							<option value="-3"></option>-->
						</select>
					</div>
					<div class="row">
						<div class="item" style="width: 18%"><label>Half Move: </label></div>
						<div class="item" style="width: 11%"><input name="attr_HalfMove" type="number" value="floor(@{spd-mod}/10)" title="Agility Bonus AB" placeholder="AB" style="text-align: center" disabled /></div>
						<div class="item" style="width: 18%"><label>Full Move: </label></div>
						<div class="item" style="width: 10%"><input name="attr_FullMove" type="number" value="2*(floor(@{spd-mod}/10))" title="Agility Bonus x2" placeholder="x2" style="text-align: center" disabled /></div>
						<div class="item" style="width: 13%"><label>Charge: </label></div>
						<div class="item" style="width: 11%"><input name="attr_ChargeMove" type="number" value="3*(floor(@{spd-mod}/10))" title="Agility Bonus x3" placeholder="x3" style="text-align: center" disabled /></div>
						<div class="item" style="width: 8%"><label>Run: </label></div>
						<div class="item" style="width: 8%"><input name="attr_RunMove" type="number" value="6*(floor(@{spd-mod}/10))" title="Agility Bonus x6" placeholder="x6" style="text-align: center" disabled /></div>
					</div>
					<div class="row">
						<h3>Fatigue</h3>
						<div class="item" style="width: 20%"><label>Threshold:</label></div>
						<div class="item" style="width: 12%"><input name="attr_FatigueThreshold" type="number" style="text-align: center" title="Willpower Bonus + Toughness Bonus" value="[[@{wp-unnatural-mod} + @{tou-unnatural-mod}]]" disabled /></div>
						<div class="item" style="width: 14%"><label>Current: </label></div>
						<div class="item" style="width: 8%"><input name="attr_Fatigue" type="number" style="text-align: center"></div>
					</div>
					<br>
					<h3>Armor &amp; Defense</h3>
					<div class="II-colrow">
						<!--<div class="col" style="background-image: url('https://imgsrv.roll20.net/?src=https://i.imgur.com/8uIryAk.png')"> -->
						<div class="col">
							<div class="armourblock">&nbsp;</div>
							<div class="quickborder armourblock"><label>Head</label> <input name="attr_Headarmourvalue" type="number" placeholder="Ar"> <label>(1-10)</label> <input name="attr_armor-head-soak" type="number" title="Armor + Toughness Bonus" placeholder="Soak"></div>
						<br>
							<div class="quickborder armourblock"><label>AR</label> <input name="attr_RightArmarmourvalue" type="number" placeholder="Ar"> <label>(11-20)</label> <input name="attr_armor-rightarm-soak" type="number" title="Armor + Toughness Bonus" placeholder="Soak"></div>
							<div class="quickborder armourblock"><label>Body</label> <input name="attr_Bodyarmourvalue" type="number" placeholder="Ar"> <label>(31-70)</label> <input name="attr_armor-body-soak" type="number" title="Armor + Toughness Bonus" placeholder="Soak"></div>
							<div class="quickborder armourblock"><label>AL</label> <input name="attr_LeftArmarmourvalue" type="number" placeholder="Ar"> <label>(21-30)</label> <input name="attr_armor-leftarm-soak" type="number" title="Armor + Toughness Bonus" placeholder="Soak"></div>
							<div class="quickborder armourblock" style="margin: 20px auto auto 11%"><label>LR</label> <input name="attr_RightLegarmourvalue" type="number" placeholder="Ar"> <label>(71-85)</label> <input name="attr_armor-rightleg-soak" type="number" placeholder="Soak"></div>
							<div class="quickborder armourblock" style="margin: 20px auto auto 11%"><label>LL</label> <input name="attr_LeftLegarmourvalue" type="number" placeholder="Ar"> <label>(86-00)</label> <input name="attr_armor-leftleg-soak" type="number" placeholder="Soak"></div>
						</div>
						<div class="col fate">
							<h3>Wounds</h3>
							<div class="row">
								<div class="item" style="width: 65%">
									<label>Total: </label>
								</div>
								<div class="item" style="width: 20%">
									<input name="attr_Wounds_max" type="number" style="text-align: center">
								</div>
							</div>
							<div class="row">
								<div class="item" style="width: 65%">
									<label>Current: </label>
								</div>
								<div class="item" style="width: 20%">
									<input name="attr_Wounds" type="number" style="text-align: center">
								</div>
							</div>
							<div class="row">
								<div class="item" style="width: 65%">
									<label>Critical Damage: </label>
								</div>
								<div class="item" style="width: 20%">
									<input name="attr_Critical" type="number" style="text-align: center">
								</div>
							</div>
							<h3>Conditions</h3>
							<div class="row">
								<div class="item" style="width: 100%">
									<input name="attr_1stCondition" type="text">
								</div>
							</div>
							<div class="row">
								<div class="item" style="width: 100%">
									<input name="attr_2ndCondition" type="text">
								</div>
							</div>
							<div class="row">
								<div class="item" style="width: 100%">
									<input name="attr_3rdCondition" type="text">
								</div>
							</div>
							<div class="row">
								<div class="item" style="width: 100%">
									<input name="attr_4thCondition" type="text">
								</div>
							</div>
							<div class="row">
								<div class="item" style="width: 100%">
									<input name="attr_5thCondition" type="text">
								</div>
							</div>
							<div class="row">
								<div class="item" style="width: 100%">
									<input name="attr_6thCondition" type="text">
								</div>
							</div>
							<div class="row">
								<div class="item" style="width: 100%">
									<input name="attr_7thCondition" type="text">
								</div>
							</div>
							<div class="row">
								<div class="item" style="width: 100%">
									<input name="attr_8thCondition" type="text">
								</div>
							</div>
						</div>
					</div>
					<h3>Size</h3>
					<div class="item" style="width: 45%">
						<select class="sizeselect" name="attr_size">
							<option value="6" >Titanic    </option>
							<option value="5" >Monumental </option>
							<option value="4" >Immense    </option>
							<option value="3" >Massive    </option>
							<option value="2" >Enormous   </option>
							<option value="1" >Hulking    </option>
							<option value="0" >● Average ●</option>
							<option value="-1">Scrawny    </option>
							<option value="-2">Puny       </option>
							<option value="-3">Miniscule  </option>
						</select>
					</div>
					<div class="item" style="width: 10%"><label>Mod: </label></div>
					<div class="item" style="width: 10%"><input name="attr_size_mod" type="number" value="" title="Size Modifier" style="text-align: center" readonly /></div>
					<div class="item" style="width: 15%"><label>Stealth: </label></div>
					<div class="item" style="width: 10%"><input name="attr_size_conceal" type="number" value="" title="Stealth Modifier" style="text-align: center" readonly /></div>
				</div>
				<!-- 'size_mod': sizeMod, 'size_conceal': ConcealMod, 'size_label': sizeLabel   -->
			</div>
            <!-- Right Side -->

            <div class="col">
                <h3 data-i18n="gear">Gear</h3>
                <fieldset class="repeating_gear">
                    <input name="attr_repgear" type="text">
                </fieldset>

                <!-- Wealth -->

                <div class="row">
                    <div class="item" style="width:25%">
                        <label data-i18n="thronegelt:">Throne Gelt: </label>
                    </div>
                    <div class="item" style="width:25%">
                        <input name="attr_ThroneGelt" type="number">
                    </div>
                    <div class="item puny"></div>
                    <div class="item" style="width:20%">
                        <label data-i18n="income:">Income: </label>
                    </div>
                    <div class="item" style="width:20%">
                        <input name="attr_Income" type="number">
                    </div>
					<h3 data-i18n="othcurrency">Other Currency</h3>
					<fieldset class="repeating_currency">
						<input name="attr_repcurrencyname" style="width: 75%" type="text" placeholder="Currency Name">
						<input name="attr_repcurrencyqty" style="width: 20%" type="number">
					</fieldset>
                </div>

            </div>
        </div>
<!-- WEAPON REPEATING CODE -->
    <!-- DEBUG Tab Tab -->
    <!-- This tab contains WORK in PROGRESS content as well as a selection of DEBUG tools for the GM and sheet authors -->
    <div class="wrapper">

<span class="nontable-name" data-i18n="attacks">Attacks</span>
<div class="table">
	<div class="table-row">
		<span class="table-header">0</span><span class="table-header">1</span><span class="table-header">2</span>
		<span class="table-header">3</span><span class="table-header">4</span><span class="table-header">5</span>
		<span class="table-header">6</span><span class="table-header">7</span><span class="table-header">8</span>
		<span class="table-header">9</span><span class="table-header">10</span><span class="table-header">11</span>
		<span class="table-header">12</span><span class="table-header">13</span><span class="table-header">14</span>
		<span class="table-header">15</span><span class="table-header">16</span><span class="table-header">17</span>
		<span class="table-header">18</span><span class="table-header">19</span><span class="table-header">20</span>
		<span class="table-header">21</span><span class="table-header">22</span><span class="table-header">23</span>
		<span class="table-header">24</span><span class="table-header">25</span>
	</div>
	<div class="table-row">
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_0_wHitRoll}" class="dice" value="@{selected|repeating_weapon_0_wHitRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$1_wHitRoll}" class="dice" value="@{selected|repeating_weapon_$1_wHitRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$2_wHitRoll}" class="dice" value="@{selected|repeating_weapon_$2_wHitRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$3_wHitRoll}" class="dice" value="@{selected|repeating_weapon_$3_wHitRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$4_wHitRoll}" class="dice" value="@{selected|repeating_weapon_$4_wHitRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$5_wHitRoll}" class="dice" value="@{selected|repeating_weapon_$5_wHitRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$6_wHitRoll}" class="dice" value="@{selected|repeating_weapon_$6_wHitRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$7_wHitRoll}" class="dice" value="@{selected|repeating_weapon_$7_wHitRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$8_wHitRoll}" class="dice" value="@{selected|repeating_weapon_$8_wHitRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$9_wHitRoll}" class="dice" value="@{selected|repeating_weapon_$9_wHitRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$10_wHitRoll}" class="dice" value="@{selected|repeating_weapon_$10_wHitRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$11_wHitRoll}" class="dice" value="@{selected|repeating_weapon_$11_wHitRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$12_wHitRoll}" class="dice" value="@{selected|repeating_weapon_$12_wHitRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$13_wHitRoll}" class="dice" value="@{selected|repeating_weapon_$13_wHitRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$14_wHitRoll}" class="dice" value="@{selected|repeating_weapon_$14_wHitRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$15_wHitRoll}" class="dice" value="@{selected|repeating_weapon_$15_wHitRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$16_wHitRoll}" class="dice" value="@{selected|repeating_weapon_$16_wHitRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$17_wHitRoll}" class="dice" value="@{selected|repeating_weapon_$17_wHitRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$18_wHitRoll}" class="dice" value="@{selected|repeating_weapon_$18_wHitRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$19_wHitRoll}" class="dice" value="@{selected|repeating_weapon_$19_wHitRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$20_wHitRoll}" class="dice" value="@{selected|repeating_weapon_$20_wHitRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$21_wHitRoll}" class="dice" value="@{selected|repeating_weapon_$21_wHitRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$22_wHitRoll}" class="dice" value="@{selected|repeating_weapon_$22_wHitRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$23_wHitRoll}" class="dice" value="@{selected|repeating_weapon_$23_wHitRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$24_wHitRoll}" class="dice" value="@{selected|repeating_weapon_$24_wHitRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$25_wHitRoll}" class="dice" value="@{selected|repeating_weapon_$25_wHitRoll}">t</button></span>

	</div>
	<div class="table-row">
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$0_wDmgRoll}" class="dice" value="@{selected|repeating_weapon_$0_wDmgRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$1_wDmgRoll}" class="dice" value="@{selected|repeating_weapon_$1_wDmgRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$2_wDmgRoll}" class="dice" value="@{selected|repeating_weapon_$2_wDmgRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$3_wDmgRoll}" class="dice" value="@{selected|repeating_weapon_$3_wDmgRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$4_wDmgRoll}" class="dice" value="@{selected|repeating_weapon_$4_wDmgRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$5_wDmgRoll}" class="dice" value="@{selected|repeating_weapon_$5_wDmgRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$6_wDmgRoll}" class="dice" value="@{selected|repeating_weapon_$6_wDmgRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$7_wDmgRoll}" class="dice" value="@{selected|repeating_weapon_$7_wDmgRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$8_wDmgRoll}" class="dice" value="@{selected|repeating_weapon_$8_wDmgRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$9_wDmgRoll}" class="dice" value="@{selected|repeating_weapon_$9_wDmgRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$10_wDmgRoll}" class="dice" value="@{selected|repeating_weapon_$10_wDmgRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$11_wDmgRoll}" class="dice" value="@{selected|repeating_weapon_$11_wDmgRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$12_wDmgRoll}" class="dice" value="@{selected|repeating_weapon_$12_wDmgRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$13_wDmgRoll}" class="dice" value="@{selected|repeating_weapon_$13_wDmgRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$14_wDmgRoll}" class="dice" value="@{selected|repeating_weapon_$14_wDmgRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$15_wDmgRoll}" class="dice" value="@{selected|repeating_weapon_$15_wDmgRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$16_wDmgRoll}" class="dice" value="@{selected|repeating_weapon_$16_wDmgRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$17_wDmgRoll}" class="dice" value="@{selected|repeating_weapon_$17_wDmgRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$18_wDmgRoll}" class="dice" value="@{selected|repeating_weapon_$18_wDmgRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$19_wDmgRoll}" class="dice" value="@{selected|repeating_weapon_$19_wDmgRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$20_wDmgRoll}" class="dice" value="@{selected|repeating_weapon_$20_wDmgRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$21_wDmgRoll}" class="dice" value="@{selected|repeating_weapon_$21_wDmgRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$22_wDmgRoll}" class="dice" value="@{selected|repeating_weapon_$22_wDmgRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$23_wDmgRoll}" class="dice" value="@{selected|repeating_weapon_$23_wDmgRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$24_wDmgRoll}" class="dice" value="@{selected|repeating_weapon_$24_wDmgRoll}">t</button></span>
		<span class="tdcs"><button type="roll" name="roll_repeating_" title="@{selected|repeating_weapon_$25_wDmgRoll}" class="dice" value="@{selected|repeating_weapon_$25_wDmgRoll}">t</button></span>
	</div>
</div>
<input type="checkbox" name="attr_weapon-min-show"    class="minimize-show     cssbutton" title="Minimize all rows."           data-i18n-title="minimize-all-cmd"   value="1" /><span></span>
<input type="checkbox" name="attr_weapon-expand-show" class="lock-show         cssbutton" title="Collapse or expand all rows." data-i18n-title="expand-cmd"         value="1"/><span></span>
<input type="checkbox" name="attr_weapon-column-show" class="split-column-show cssbutton" title="Split into two columns."      data-i18n-title="column-cmd"         value="1"/><span></span>
<div class="repeating-fields">
	<fieldset class="repeating_weapon">
	
		<div class="nontable-repeating">
			<input type="checkbox" name="attr_row-show" class="counted sect-show" title="Minimize Row" data-i18n-title="minimize-cmd" value="1" checked="checked" /><span></span>
			<!--<span class="repeating-rollbutton"><button type="roll" name="attr_roll" class="dice" title="%{selected|repeating_weapon_$X_roll}" value="@{macro-text}">t</button></span>-->
		
			<label class="small-label2 limit">
			<select name="attr_wProficiency" data-li8n-title="weapon-proficiency-title">
					<option selected data-i18n="yes-default" value="yes">• Yes</option>
					<option data-i18n="no" value="no">No</option>
			</select><span data-i18n="weapon-proficiency-abbr">Prof.</span>
				<!--<input type="checkbox" name="attr_proficiency" title="@{repeating_weapon_$X_proficiency}" data-li8n-title="weapon-proficiency-title" />-->
			</label>
			<label class="small-label2 repname">
				<input type="text" name="attr_atkName" title="Name of Weapon @{repeating_weapon_$X_atkName}" data-li8n-title="weapon-name-title" data-i18n-placeholder="weapon-name" />
				<span data-i18n="weapon-name">Name</span>
			</label>
			<label class="small-label2">
				<select name="attr_wClass" data-li8n-title="weapon-class-title">
					<option selected data-i18n="select-default" value="select">• Select</option>
					<option data-i18n="wType-basic" value="basic">Basic</option>
					<option data-i18n="wType-heavy" value="heavy">Heavy</option>
					<option data-i18n="wType-melee" value="melee">Melee</option>
					<option data-i18n="wType-pistol" value="Pistol">Pistol</option>
					<option data-i18n="wType-thrown" value="Thrown">Thrown</option>
				</select><span data-i18n="weapon-class">Class</span>
				<!--<input type="text" name="attr_class" title="@{repeating_weapon_$X_class}" data-li8n-title="weapon-class-title" placeholder="Class" data-i18n="class" class="range"/>-->
			</label>
			<input type="hidden" class="wClass-toggle" name="attr_wClass"  value="basic"  />
			
			<label class="small-label2" style="width: 2.8em;">
				<input type="text" name="attr_damage" data-il8n-title="weapon-damage-title" title="(@{repeating_weapon_$X_damage})  The dice roll component of weapon damage." data-i18n-placeholder="weapon-damage-placeholder" value="0"/>
				<span data-i18n="weapon-damage">XdY</span>
			</label>
			<span class="divider-txt">+</span>
			<label class="small-label2" style="width: 1.5em;">
				<input type="text" name="attr_damageMod" data-il8n-title="weapon-damagemod-title" title="(@{repeating_weapon_$X_damagemod}) The number added to the damage dice ROLL." data-i18n-placeholder="weapon-damage-placeholder" value="0"/>
				<span data-i18n="weapon-damagemod">Mod</span>
			</label>
			
			<label class="small-label2 damtype">
				<select name="attr_wType" data-il8n-title="weapon-type-title" title="(@{repeating_weapon_$X_wType}) This is the damage type of the weapon.  (E)nergy, (I)mpact, (R)ending, or E(X)plosive.  If you select, none, no damage will be displayed and various non-damage effects will be displayed.">
					<option selected data-il8n="select-default-abbr" value="select">• Sel</option>
					<option data-i18n="e-u" value="e">E</option>
					<option data-i18n="i-u" value="I">I</option>
					<option data-i18n="r-u" value="R">R</option>
					<option data-i18n="x-u" value="X">X</option>
					<option data-i18n="n-u" value="N">N</option>
				</select><span data-i18n="type">Type</span>
				<!-- <input type="text" name="attr_damType" data-li8n-title="weapon-type-title" data-i18n-placeholder="weapon-type-placeholder" class="range"/> -->
			</label>
			<label class="small-label2">
				<input type="number" name="attr_penetration" title="@{repeating_weapon_$X_penetration} Penetration" style="width: 2.5em;" value="0"/>
				<span data-i18n="weapon-pen-abbr">Pen</span>
			</label>

<!-- This must be placed before all show/hide classes which use wClass-toggle -->
<input type="hidden" class="wClass-toggle" name="attr_wClass"  value="basic"  />

			<div class="RangeGroup basic heavy pistol thrown">
				<label class="small-label2">
					<input type="number" name="attr_range-PB" class="range" value="3" disabled /><span data-i18n="weapon-range-pb-abbr">Point Blank</span>
				</label>
				<label class="small-label2">
					<input type="number" name="attr_range-S" class="range" value="[[floor(@{range-n}/2)]]" min="0" disabled /><span data-i18n="weapon-range-s-abbr">Short</span>
				</label>
				<label class="small-label2">
					<input type="number" name="attr_range-N" class="range" value="0" min="0" /><span data-i18n="weapon-range-n-abbr">Normal</span>
				</label>
				<label class="small-label2">
					<input type="number" name="attr_range-M" class="range" value="@{range-n}*2" disabled /><span data-i18n="weapon-range-m-abbr">Med</span>
				</label>
				<label class="small-label2">
					<input type="number" name="attr_range-L" class="range" value="@{range-n}*3" disabled /><span data-i18n="weapon-range-l-abbr">Long</span>
				</label>
				<label class="small-label2">
					<input type="number" name="attr_range-E" class="range" value="@{range-n}*4" disabled /><span data-i18n="weapon-range-e-abbr">Extreme</span>
				</label>
			</div>
			
			<label class="small-label2 RoFGroup basic heavy pistol thrown">
				<input type="number" name="attr_RoF1" title="@{repeating_weapon_$X_rof1}" data-li8n-title="weapon-rof-title" class="range inlineblock" value="0" min="0" />
				<span class="divider-db-lg">/</span><input type="number" name="attr_RoF2" title="@{repeating_weapon_$X_rof2}" value="0" min="0" class="range inlineblock"/>
				<span style="position: absolute; top: 1.9em; right: 1.1em; width: fit-content;">Rate of Fire</span>
				<span class="divider-db-lg">/</span><input type="number" name="attr_RoF3" title="@{repeating_weapon_$X_rof3}" value="0" min="0" class="range inlineblock "/>
			</label>
						
			<label class="small-label2 ClipGroup limit basic heavy pistol thrown">
				<input type="number" name="attr_clip" title="@{repeating_weapon_$X_clip}" data-li8n-title="weapon-clip-title" value="0" min="0" class="range inlineblock"/>
				<span class="divider-db-lg">/</span><input type="number" name="attr_clip_max" class="range inlineblock" title="@{repeating_weapon_$X_clip|max}" value="0" min="0"/>
				<span data-i18n="weapon-clip" style="position: absolute; top: 1.9em; right: 2.5em; width: fit-content;">Clip</span>
			</label>
			<label class="small-label2 limit basic heavy pistol thrown">
				<input type="text" name="attr_reload" class="range" title="@{repeating_weapon_$X_reload}" data-li8n-title="weapon-reload-title" />
				<span data-i18n="weapon-reload">Reload</span>
			</label>
			
<!-- The weapon notes below are identical, however, the display needs to be different whether or not the weapon is a melee -->
			<div class="small-label2 weap-notes hide-ranged" style="top: 8px;"><!-- spit: -->
				<textarea name="attr_notes" class="repnotes" title="@{repeating_weapon_$X_notes}" placeholder="Weapon Notes"></textarea>
				<br><span data-i18n="notes">Notes</span>
			</div>
			<!-- Show this -->
			<div class="small-label2 weap-notes hide-melee sect expand" style="top: 8px; width: 80%"><!-- spit: -->
				<textarea name="attr_notes" class="repnotes" title="@{repeating_weapon_$X_notes}" placeholder="Weapon Notes"></textarea>
				<br><span data-i18n="notes">Notes</span>
			</div>
			<div>
				<button name="roll_weapAtk" type="roll" class="atkroll" value="@{wHitRoll}"><label>Hit</label></button>
				<button name="roll_weapDam" type="roll" class="dmgroll" value="@{wDmgRoll}"><label>Damage</label></button>
			</div>

<!-- REPEATING WEAPON ATTACK/DAMAGE MACROS -->

			<div class="sect expand">
				<hr class="hr-button" style="margin-top:10px;">
				<label class="label-button" style="height: 10px;">
				<input type='checkbox' name='attr_toggle-section' value="1" class="section-rep-collapse noshow" checked=""><b title="Show/Hide Advanced Weapon Details">Advanced</b></label> <!-- it doesnt need to be a checkbox -->
				<input class="section-toggle" type="hidden" name="attr_toggle-section">
				<div class="section-hide">
	<label class="inlineblock"><input type="checkbox" value="1" name="attr_q-accurate"    class="boldlabel-check noshow"> <b title="Gain +10 to Hit when the aim action is used." data-il8n="w-accurate" data-il8n-title="w-accurate-title">Accurate</b></label>
	<label class="inlineblock"><input type="checkbox" value="1" name="attr_q-balanced"    class="boldlabel-check noshow"> <b title="Gain +10 to bonus to WS Tests when parrying." data-il8n="w-balanced" data-il8n-title="w-balanced-title">Balanced</b></label>
	<label class="inlineblock"><input type="checkbox" value="1" name="attr_q-blast"       class="boldlabel-check noshow"> <b title="Weapon deals its damage in X meters.  Roll Hit/Damage separately." data-il8n="w-blast" data-il8n-title="w-blast-title">Blast</b></label>
	<label class="inlineblock"><input type="checkbox" value="1" name="attr_q-defensive"   class="boldlabel-check noshow"> <b title="Gain +15 bonus to Tests to Parry but -10 Penalty when used to attack." data-il8n="w-defensive" data-il8n-title="w-defensive-title">Defensive</b></label>
	<label class="inlineblock"><input type="checkbox" value="1" name="attr_q-flame"       class="boldlabel-check noshow"> <b title="Deals damage in a 30 degree cone out to the limit of the range.  No roll to hit required.  Those struck must succeed an Ag Test or take damage normally and must make a second Ag Test or catch fire.  Cover does not protect against these attacks.  Flame weapons always hit the BODY and are considered to have JAMMED on an unmodified 9 on the damage dice." data-il8n="w-flame" data-il8n-title="w-flame-title">Flame</b></label>
	<label class="inlineblock"><input type="checkbox" value="1" name="attr_q-flexible"    class="boldlabel-check noshow"> <b title="Cannot be Parried." data-il8n="w-flexible" data-il8n-title="w-flexible-title">Flexible</b></label>
	<label class="inlineblock"><input type="checkbox" value="1" name="attr_q-hotshot"     class="boldlabel-check noshow"> <b title="" data-il8n="w-hotshot" data-il8n-title="w-hotshot-title">Hotshot</b></label>
	<label class="inlineblock"><input type="checkbox" value="1" name="attr_q-inaccurate"  class="boldlabel-check noshow"> <b title="Gain no bonus to hit when using the AIM action." data-il8n="w-inaccurate" data-il8n-title="w-inaccurate-title">Inaccurate</b></label>
	<label class="inlineblock"><input type="checkbox" value="1" name="attr_q-overheats"   class="boldlabel-check noshow"> <b title="Roll an OVERHEAT mishap on an unmodified 91+ on the HIT dice." data-il8n="w-overheats" data-il8n-title="w-overheats-title">Overheats</b></label>
	<label class="inlineblock"><input type="checkbox" value="1" name="attr_q-power_field" class="boldlabel-check noshow"> <b title="Weapon has increased Penetration.  All non-powered weapons have a 75% chance to break when parrying powered weapons." data-il8n="w-powered" data-il8n-title="w-powered-title">Power Field</b></label>
	<label class="inlineblock"><input type="checkbox" value="1" name="attr_q-primitive"   class="boldlabel-check noshow"> <b title="Defenders` armor is doubled against Primitive Weapons." data-il8n="w-primitive" data-il8n-title="w-primitive-title">Primitive</b></label>
	<label class="inlineblock"><input type="checkbox" value="1" name="attr_q-recharge"    class="boldlabel-check noshow"> <b title="Weapon requires 1 round to recharge (it can only be fired once every two rounds)." data-il8n="w-recharge" data-il8n-title="w-recharge-title">Recharge</b></label>
	<label class="inlineblock"><input type="checkbox" value="1" name="attr_q-reliable"    class="boldlabel-check noshow"> <b title="If the weapon JAMS roll 1d10.  The weapon JAMS only on a natural 10, otherwise treat as a normal miss." data-il8n="w-reliable" data-il8n-title="w-reliable-title">Reliable</b></label>
	<label class="inlineblock"><input type="checkbox" value="1" name="attr_q-sanctified"  class="boldlabel-check noshow"> <b title="(Blood of Martyrs) Denies Daemonic creatures their double Toughness bonus when they soak damage." data-il8n="w-sanctified" data-il8n-title="w-sanctified-title">Sanctified</b></label>
	<label class="inlineblock"><input type="checkbox" value="1" name="attr_q-scatter"     class="boldlabel-check noshow"> <b title="If fired within Point-Blank range, gain an extra hit for each 2 degrees of success.  All Armor Points are Doubled when firing at long or extreme range." data-il8n="w-scatter" data-il8n-title="w-scatter-title">Scatter</b></label>
	<label class="inlineblock"><input type="checkbox" value="1" name="attr_q-shocking"    class="boldlabel-check noshow"> <b title="If target takes at least 1 pt. of damage (after soak), they must succeed a Toughness Test (with a +10 for each point of armor in that location).  If they fail the Test, they are stunned for a number of rounds equal to half the damage they took." data-il8n="w-shocking" data-il8n-title="w-shocking-title">Shocking</b></label>
	<label class="inlineblock"><input type="checkbox" value="1" name="attr_q-smoke"       class="boldlabel-check noshow"> <b title="Deals no damage by instead creates a cloud of smoke 3d10 meters in diameter from the point of impact.  This lasts for 2d10 rounds (less in adverse weather)." data-il8n="w-smoke" data-il8n-title="w-smoke-title">Smoke</b></label>

	<label class="inlineblock"><input type="checkbox" value="1" name="attr_q-snare"       class="boldlabel-check noshow"> <b title="On a successful hit, Target must make an Ag Test or be immobilized.  To break free, they must succeed a STR or Ag Test.  Target is considered helpless until they escape." data-il8n="w-snare" data-il8n-title="w-snare-title">Snare</b></label>
	<label class="inlineblock"><input type="checkbox" value="1" name="attr_q-storm"       class="boldlabel-check noshow"> <b title="(Blood of Martyrs) Doubles the number of hits for each shot fired.  Every degree of success (for full auto) or two degrees (for semi-auto) up to the listed fire rate results in two hits even when firing single shots." data-il8n="w-storm" data-il8n-title="w-storm-title">Storm</b></label>
	<label class="inlineblock"><input type="checkbox" value="1" name="attr_q-tearing"     class="boldlabel-check noshow"> <b title="Roll damage twice and take the highest." data-il8n="w-tearing" data-il8n-title="w-tearing-title">Tearing</b></label>
	<label class="inlineblock"><input type="checkbox" value="1" name="attr_q-toxic"       class="boldlabel-check noshow"> <b title="Anyone who takes damage from this weapon (after soak) must succeed a Toughness Test (-5 for each point of damage taken) or take an immediate 1d10 points of impact damage to the target with no reduction from armor or toughness." data-il8n="w-toxic" data-il8n-title="">Toxic</b></label>
	<label class="inlineblock"><input type="checkbox" value="1" name="attr_q-unbalanced"  class="boldlabel-check noshow"> <b title="Suffer a -10 Penalty when Parrying." data-il8n="w-unbalanced" data-il8n-title="w-unbalanced-title">Unbalanced</b></label>
	<label class="inlineblock"><input type="checkbox" value="1" name="attr_q-unreliable"  class="boldlabel-check noshow"> <b title="Jams on a 91+, even if fired on Semi- or Full-Auto." data-il8n="w-unreliable" data-il8n-title="w-unreliable-title">Unreliable</b></label>
	<label class="inlineblock"><input type="checkbox" value="1" name="attr_q-unstable"    class="boldlabel-check noshow"> <b title="Deals variable damage.  Roll a 1d10.  1: Half Damage; 2-9: Normal Damage; 10: Double Damage." data-il8n="w-unstable" data-il8n-title="w-unstable-title">Unstable</b></label>
	<label class="inlineblock"><input type="checkbox" value="1" name="attr_q-unwieldy"    class="boldlabel-check noshow"> <b title="Cannot be used to Parry." data-il8n="w-unwieldy" data-il8n-title="w-unwieldy-title">Unwieldy</b></label>
				<hr>
				</div>
				
				<input type="checkbox" class="showarrow macro-text-show" title="Click to expand" data-i18n-title="showsect-cmd" aria-label="Show Macro Text" name="attr_macro-text-show" value="1"/>
				<label class="showsect macro-text-showlabel" data-i18n="macro-text">Macro Text</label>
				<input type="checkbox" class="showarrow misc-attack-show" name="attr_misc-attack-show" value="1" checked title="Misc Weapon & attack details"/>
				<label class="showsect misc-attack-showlabel" data-i18n="miscellaneous-abbrv">Misc Details</label>
				<input type="checkbox" class="showarrow id-show" title="Click to expand" data-i18n-title="showsect-cmd" aria-label="Show Row ID" name="attr_ids-show" value="1"/>
				<label class="showsect id-showlabel" data-i18n="identification-abbrv">ID</label>
				<div class="cheat"></div>
				
				<div class="macro-text" style="width:100%;height:auto !important;clear:both;">					
					<label class="small-label2" style="width:100%;height:auto !important;margin-left:0;margin-right:0;padding-left:2px;padding-right:2px;">
						<span data-i18n="full-macro">Full Macro:</span>
						<textarea class="macro-text" title="@{repeating_weapon_$X_wHitRoll}" name="attr_wHitRoll">!scriptcard {{
	--/| === ScriptCard Layout for Attack Rolls === |\--
	--/| === Version 1.0                        === |\--
	--/| === Date: 01/17/2023                   === |\--
	
	--/| Local Variables --|\
	--#sourceToken|@{selected|token_id}
	--#targetToken|@{target|token_id}

	--/| ===== Roll Queries / Information Lookup =========== |\
	--&AimType|?{Aim | No aim (+0),+0 | Half aim (+10),+10| Full aim (+20),+20}
		--=AimTypeNum|[&AimType]
	--&RoFType|?{Rate of Fire/Attack Type| Standard (+0),+0 | Semi auto (+10),+10 | Full Auto (+20),+20 | Called Shot (-20),-20 | Suppressing Fire (-20),-20}
	--&AtkMod|?{Modifier|0}
		--/| ===== Convert RQ Value into int variables
		--=AtkModNum|[&AtkMod]
		--=AimTypeNum|[&AimType]
		--=RangeNum|[&RangeType]
		--=RoFNum|[&RoFType]
	
	
	--/| ===== Strings =========== |\
	--&DmgRoll|@{damage}
	--&WeapNotes|@{notes}
	
	--/| ========== Numbers ============= |\

	--=AtkType|0
	
	--/| ===== Numbers =========== |\
	--=DmgPen|@{penetration}
	--=RollDamage|@{damage}
	--=clip|@{clip}
	--=clipMax|@clip|max}
	
	--/| ===== Weapon Proficiency Full Display =========== |\
	--?@{wProficiency} -eq Yes|Yes
	--?@{wProficiency} -eq No|No
	
	--:Yes|
		--&wProficiency|Yes
		--^wProficiencyDisplayDone|
	--:No|
		--&wProficiency|No
		--^wProficiencyDisplayDone|
	--:wProficiencyDisplayDone|
	
	
	--/| ===== DAMAGE TYPE Full Display =========== |\
	--?@{wType} -eq E|E
	--?@{wType} -eq I|I
	--?@{wType} -eq R|R
	--?@{wType} -eq X|X
	--?@{wType} -eq N|N
	
	--:E|
		--&DmgTypeDisplay|Energy
		--^DMGTypeDone|
	--:I|
		--&DmgTypeDisplay|Impact
		--^DMGTypeDone|
	--:R|
		--&DmgTypeDisplay|Rending
		--^DMGTypeDone|
	--:X|
		--&DmgTypeDisplay|Explosive
		--^DMGTypeDone|
	--:N|
		--&DmgTypeDisplay|None
		--^DMGTypeDone|
	--:DMGTypeDone|
	
	--/| ===== Weapon Type Full Display =========== |\
	
	--?@{wClass} -eqi basic|Basic
	--?@{wClass} -eqi heavy|Heavy
	--?@{wClass} -eqi melee|Melee
	--?@{wClass} -eqi pistol|Pistol
	--?@{wClass} -eqi thrown|Thrown
	
	--:Basic|
		--&wClassDisplay|Basic
		--&AtkType|[*S:bs-base] [BS]
		--^wClassDisplayDone|
	--:Heavy|
		--&wClassDisplay|Heavy
		--&AtkType|[*S:bs-base] [BS]
		--^wClassDisplayDone|
	--:Melee|
		--&wClassDisplay|Melee
		--&AtkType|[*S:ws-base] [WS]
		--=AimTypeNum|0
		--&AimType|0
		--&MeleePenalty|-30
		--^wClassDisplayDone|
	--:Pistol|
		--&wClassDisplay|Pistol
		--&AtkType|[*S:bs-base] [BS]
		--^wClassDisplayDone|
	--:Thrown|
		--&wClassDisplay|Thrown
		--&AtkType|[*S:bs-base] [BS]
		--^wClassDisplayDone|
	--:wClassDisplayDone|
	
	--/| ===== Functions =========== |\
	--~sqRange|distance;@{selected|token_id};@{target|token_id}
		--=Range|[$sqRange] [Squares] * 1 [meters]
		--=RoFNum|[&RoFType]
	
	--?[$Range] -le 3|RngPB
	--?[$Range] -ge 3 -and [$Range] -le @{range-s}|RngShort
	--?[$Range] -ge @{range-s} -and [$Range] -le @{range-n}|RngNormal
	--?[$Range] -ge @{range-n} -and [$Range] -le @{range-m}|RngMed
	--?[$Range] -ge @{range-m} -and [$Range] -le @{range-l}|RngLong
	--?[$Range] -ge @{range-e}|RngExtreme
	
	--:RngPB|
		--&AtkRange|30+[&MeleePenalty] [Point Blank]
		--&RngDisplay|Point Blank
		--^RngDone|Done
	--:RngShort|
		--&AtkRange|10 [Short]
		--^RngDone|Done
		--&RngDisplay|Short
	--:RngNormal|
		--&AtkRange|0 [Normal]
		--&RngDisplay|Normal
		--^RngDone|Done
	--:RngMed|
		--&AtkRange|0 [Medium]
		--&RngDisplay|Medium
		--^RngDone|Done
	--:RngLong|
		--&AtkRange|-10 [Long]
		--&RngDisplay|Long
		--^RngDone|Done
	--:RngExtreme|
		--&AtkRange|-30 [Extreme]
		--&RngDisplay|Extreme
		--^RngDone|Done
	--:RngDone|

	--/ ======== Range Bonus Calculations ======== |\
	
	--#title|@{atkName}
		--#titlecardbackground|#993333
	--#leftsub|[$Range] m. [&RngDisplay]
	--#rightsub|Ammo @{clip}/@{clip|max}
	--#emoteText|[*S:t-name] attacks [*T:t-name]
	
	
	
	--/| ===== Special Qualites that effect the attack roll ====== |\
	
	--/| ===== ACCURATE QUALITY =========== |\
	--?[$AimTypeNum] -gt 0 -and @{q-accurate} -eq 1|Accurate
	--?[$AimTypeNum] -eq 0 -or  @{q-accurate} -eq 0|NoAccurate
	
	--:Accurate|
		--&AtkAccurate|10 [Accurate]
		--^AccurateDone|
	--/| Fail Catch not working.....
	--:NoAccurate|
		--&AtkAccurate|
		--^AccurateDone|
	--:AccurateDone|
	
	--/| ===== Inaccurate QUALITY =========== |\
	--/| @@ DETAILS: This overides the AIMTYPE variable to ZERO (0) instead of adding a new component to the AtkTarget string.
	--?@{q-inaccurate} -eq 1|Inaccurate
	--?@{q-inaccurate} -eq 0|NoInaccurate
	--?@{q-defensive} -eq 1|Defensive
	--?@{q-defensive} -eq 0|NoDefensive
	
	--:Inaccurate|
		--&AimType|0
		--^InaccurateDone|
	--:NoInaccurate|
		--^InaccurateDone|
	--:InaccurateDone|
	
	--?@{q-defensive} -eq 1|Defensive
	--?@{q-defensive} -eq 0|NoDefensive|
	
	--:Defensive|
		--&AtkDefensive|-10 [Defensive]
		--^DefensiveDone|
	--:NoDefensive|
		--&AtkDefensive|0
		--^DefensiveDone|
	--:DefensiveDone|
	
	--=AtkTarget|[&AtkType] + [&AimType] [Aim] + [&AtkAccurate] [Accuracy] + [&AtkRange] + [&RoFType] [Rate of Fire] + [&AtkDefensive] + [&AtkMod] [Modifier]
	--=AtkRoll|1d100
	--&BodyHit|Null
	--=DegSuccess|[$AtkTarget] - [$AtkRoll] \ 10
	
	--/| ===  WEAPON NOTES  ===
	--+|[c][#f00][&WeapNotes][/#][/c]
	--/| === WEAPON DETAILS ===
	--+|[c]● Weapon Details ●[/c]
	--+[t border=1 width=100%][tr][td][c]Class[/c][/td][td][c]Type[/c][/td][td][c]Damage[/c][/td][td][c]Pen[/c][/td][/tr][tr][td][c][&wClassDisplay][/c][/td][td][c][&DmgTypeDisplay][/c][/td][td][c]@{damage}[/c][/td][td][c][$DmgPen][/c][/td][/tr][/t]|
		
	--/| === Roll Details Tables
	--+|[c]● Roll Details ●[/c]
	--+[c][t border=2 width=95% align=center][tr][td][b]Skill    [/b][/td][td][b]Aim      [/b][/td][td][b]Range    [/b][/td][td][b]RoF      [/b][/td][td][b]Modifier [/b][/td][/tr][tr][td][&AtkType][/td][td][&AimType][/td][td][&AtkRange][/td][td][&RoFType][/td][td][&AtkMod][/td][/tr][/t][/c]|
	--/| ======= Test Output for Debugging (Hide When Code is Complete)  ========
	--/|[c][t border=2 width=95% align=center][tr][td][b]Skill    [/b][/td][td][b]Aim      [/b][/td][td][b]Range    [/b][/td][td][b]RoF      [/b][/td][td][b]Modifier [/b][/td][/tr][tr][td]XX[/td][td][$AimTypeNum][/td][td][$RangeNum][/td][td][$RoFNum][/td][td][$AtkModNum][/td][/tr][/t][/c]|
	--+|[c][t border=2 width=95% align=center][tr][td][b]Total  [/b][/td][td][b]Target [/b][/td][/tr][tr][td][$AtkRoll]   [/td][td][$AtkTarget] [/td][/tr][/t][/c]

	--/| ====== Count the Number of Allowed Attacks
	--/| The Rate of fire is 1 + [Rate of Fire Modifier] + [Scatter Modifier] * [Storm Weapon Modifier]
	--/| Rate of Fire Mods ->
	--/| Automatic                  = 1 per 1 degrees of success
	--/| Semi-Automatic             = 1 per 2 degrees of success
	--/| Point-Blank + Scatter      = Base * 2
	--/| Storm (Blood of Martyrs)   = Base * 2 (Doubles the Number of Shots Fired)
	--/| The number of extra shots fired is cannot exceed the number of rounds in the gun (its overall rate of fire) or charge capacity for energy weapons.
	--/| Regardless of successful hits the amount of ammo expended is 1 per shot fired.

	--/| ====== Check And Assign Number of Attacks based on rate of fire.

--/| Number of Attacks  - Addititve
	--?[$RoFNum] -le 0|NoExtra
	--?[$RoFNum] -eq 10 -and [$DegSuccess.Total] -ge 0|SemiAuto
	--?[$RoFNum] -eq 20 -and [$DegSuccess.Total] -ge 0|FullAuto
	
	--:SemiAuto|
		--=MaxAtk|@{rof2}
		--=RoFMod|[$DegSuccess.Total] [Successes] / 2 {CEIL} {MAX:@{rof2}} [Semi Auto]
		--^RoFDone|
	--:FullAuto|
		--=MaxAtk|@{rof3}
		--=RoFMod|[$DegSuccess.Total] [Successes] / 1 {CEIL} {MAX:@{rof3}} [Full Auto]
		--^RoFDone|
	--/| Reserved for possible Future Use and Error Checking
	--:NoExtra|
		--=MaxAtk|@{rof1}
		--=RoFMod|0 [No Extra Attacks]
		--^RoFDone|
	--:RoFDone|
	
	--/| ====== Check if the number of sucesses is at least 0 (a non-negative number)
	--?[$DegSuccess.Total] -le -1|DegDone
	--?[$DegSuccess.Total] -ge 0|Continue
	
	--:Continue|
		--=NumAtkBase|1
		--^DegDone|
	--/| ==== Reserved for possible Future Use and Error Checking
	--:DegError|
		--^DegDone|
	--:DegDone|

--/| Number of Attacks  - Multiplicative 
	--=NumAtks|[$NumAtkBase.Total] [Base] + [$RoFMod.Total] [Rate of Fire]
	
	--/| ====== Check and assign number of attacks based on SCATTER and RANGE.
	--/| @@ DETAILS: It is set to "30" because the output of the Roll Query is +30, as in thats how much the bonus to hit is.
	--/| @@ DETAILS: The equation basically is checking if the range is Point Blank and is Scatter selected.
	--?[$RangeNum] -ge 30 -and @{q-scatter} -eq 1|Scatter
	--?[$RangeNum] -lt 30 -or @{q-scatter} -eq 0|NoScatter
	
	--:Scatter|
		--=NumAtkScatter|[$NumAtks] * 2
		--^ScatterDone|
	--:NoScatter|
		--=NumAtkScatter|0
		--^ScatterDone|
	--:ScatterDone|
		
	--/| ====== Check and assign number of attacks based on STORM
	--?@{q-storm} -eq 1|Storm
	--?@{q-storm} -eq 0|NoStorm
	
	--:Storm|
		--=MaxAtk|[$MaxAtk]*2
		--=NumAtkStorm|[$NumAtks] * 2
		--^StormDone|
	--:NoStorm|
		--=NumAtkStorm|0
		--^StormDone|
	--:StormDone|
	

	--+[c] ●  Number of HITS  ● [/c]|
	--=NumAtksTotal|[$RoFMod] [RoF] + [$NumAtkBase.Total] [Base] + [$NumAtkScatter] [Scatter] + [$NumAtkStorm] [Storm] {MAX:[$MaxAtk]}
    --/| +Num|[$RoFMod] [RoF] + [$NumAtkBase.Total] [Base] + [$NumAtkScatter] [Scatter] + [$NumAtkStorm] [Storm] = 
	--+|[c][b][$NumAtksTotal.Total][/b][/c]
	
	
	--/| ====== Check if AttackRoll is less than the test THRESHOLD
	--?[$AtkRoll.Total] -le [$AtkTarget.Total]|Success
	--?[$AtkRoll.Total] -gt [$AtkTarget.Total]|Failure
		
	--:Success|
		--+[c][#3FB315]HIT! ([$DegSuccess.Total])[/#][/c]|
		--^Done|
	--:Failure|
		--+[c][#B31515]MISS! ([$DegSuccess.Total])[/#][/c]|
		--^Done|
	--:Jam|
		--+[c]JAM![/c]|
		--^Done|
	--:Done|
	
	--?[$AtkRoll] -lt 10|[
	--&rollStr|0[$AtkRoll.Raw]
		--]|[
			--&rollStr|[$AtkRoll.Raw]
		--]|
	--~len|string;length;[&rollStr]
	--%i|[$len];1;-1
		--~s|string;substring;[&i];1;[&rollStr]
		--&revStr|+[&s]
	--%|
	--=revRoll|[&revStr]
	
	--/| === Out of Range Values Included for Debugging ===
	--<|
	--?[$revRoll] -le 0|>SetHitLocation;Error - Out of Range
	--?[$revRoll] -le 10|>SetHitLocation;Head
	--?[$revRoll] -ge 11 -and -le 20|>SetHitLocation;Right Arm
	--?[$revRoll] -ge 21 -and -le 30|>SetHitLocation;Left Arm
	--?[$revRoll] -ge 31 -and -le 70|>SetHitLocation;Body
	--?[$revRoll] -ge 71 -and -le 85|>SetHitLocation;Right Leg
	--?[$revRoll] -ge 86|>SetHitLocation;Left Leg
	--?[$revRoll] -ge 101|>SetHitLocation;Error - Out of Range
	
	--+[c][b][#3FB315][&BodyHit][/#][/b][/c]|

	--X| End Macro
		
	--:PROCEDURES|
	--:SetHitLocation| accepts hit location as parameter
	    --&BodyHit|[%1%]
	--&#60;|
	--/| The HTML escape code is required because the "<>" is being interprated as an html tag.  It sucks.
}}
</textarea>
<hr>
<textarea class="macro-text" title="@{repeating_weapon_$X_wDmgRoll}" name="attr_wDmgRoll">!scriptcards {{
	--/| === ScriptCard Layout for Damage Rolls === |\--
	--/| === Dark Heresy 1e / With Homebrew         |\--
	--/| === Version 1.0a                       === |\--
	--/| === Date: 11/09/2022                   === |\--
	
	--/| Local Variables --|\
	--#sourceToken|@{selected|token_id}
	--#targetToken|@{target|token_id}
	
	--/| ===== Roll Queries / Information Lookup =========== |\
	--&AimType|?{Aim | No aim (+0),+0 | Half aim (+10),+10| Full aim (+20),+20}
		--=AimTypeNum|[&AimType]
	--&RoFType|?{Rate of Fire/Attack Type| Standard (+0),+0 | Semi auto (+10),+10 | Full Auto (+20),+20 | Called Shot (-20),-20 | Suppressing Fire (-20),-20}
	--&HitLocation|?{Hit Location|Head, Head|Left Arm, LeftArm|Right Arm, RightArm|Body, Body|Left Leg, LeftLeg|Right Leg, RightLeg}
	--/| ===== Convert RQ Value into int variables
		--=AtkModNum|[&AtkMod]
		--=AimTypeNum|[&AimType]
		--=RangeNum|[&RangeType]
		--=RoFNum|[&RoFType]
		--&DoSNum|?{Degrees of Success?|0}
	--/| ===== Degrees of Success
		--&DoSNum|?{Degrees of Success?|0}
		--=DegSuccess|[&DoS]
	
	--/| ===== Strings =========== |\
	--&AtkName|@{atkName}
	
	--/| ===== Weapon Proficiency Full Display =========== |\
	--?@{wProficiency} -eq Yes|Yes
	--?@{wProficiency} -eq No|No
	
	--:Yes|
		--&wProficiency|Yes
		--^wProficiencyDisplayDone|
	--:No|
		--&wProficiency|No
		--^wProficiencyDisplayDone|
	--:wProficiencyDisplayDone|
	
	
	--/| ===== DAMAGE TYPE Full Display =========== |\
	--?@{wType} -eq E|E
	--?@{wType} -eq I|I
	--?@{wType} -eq R|R
	--?@{wType} -eq X|X
	--?@{wType} -eq N|N
	
	--:E|
		--&DmgTypeDisplay|Energy
		--^DMGTypeDone|
	--:I|
		--&DmgTypeDisplay|Impact
		--^DMGTypeDone|
	--:R|
		--&DmgTypeDisplay|Rending
		--^DMGTypeDone|
	--:X|
		--&DmgTypeDisplay|Explosive
		--^DMGTypeDone|
	--:N|
		--&DmgTypeDisplay|None
		--^DMGTypeDone|
	--:DMGTypeDone|
	
	--/| ===== Weapon Type Full Display =========== |\
	
	--?@{wClass} -eqi basic|Basic
	--?@{wClass} -eqi heavy|Heavy
	--?@{wClass} -eqi melee|Melee
	--?@{wClass} -eqi pistol|Pistol
	--?@{wClass} -eqi thrown|Thrown
	
	--:Basic|
		--&wClassDisplay|Basic
		--^wClassDisplayDone|
	--:Heavy|
		--&wClassDisplay|Heavy
		--^wClassDisplayDone|
	--:Melee|
		--&wClassDisplay|Melee
	--/| Melee Penalty is a stopgap measure to counter the Point Blank Bonus of the Range.
		--=MeleePenalty|-30
		--^wClassDisplayDone|
	--:Pistol|
		--&wClassDisplay|Pistol
		--^wClassDisplayDone|
	--:Thrown|
		--&wClassDisplay|Thrown
		--^wClassDisplayDone|
	--:wClassDisplayDone|
	--=RLCritM|[*T:RightLegCritDam^]
	
	--/| ===== Functions =========== |\
	--~sqRange|distance;@{selected|token_id};@{target|token_id}
		--=Range|[$sqRange] [Squares] * 1 [meters]
		--=RoFNum|[&RoFType]
		
	--/| ===== Numbers =========== |\
	--=DmgPen|@{penetration}
	--&DamageRoll|@{damage}
	--&DamageMod|@{damagemod}
	--&TotalDam|@{damage}!+@{damagemod}
	
	--=FinalDamRoll|0
	
	--=TBon|@{target|tou-mod}
	--=HAV|[*T:headArmourvalue]
	--=LAAV|[*T:LeftArmArmourvalue]
	--=BAV|[*T:BodyArmourvalue]
	--=RAAV|[*T:RightArmArmourvalue]
	--=LLAV|[*T:LeftLegArmourvalue]
	--=RLAV|[*T:RightLegArmourvalue]
	--=HSoak|[*T:armor-head-soak]
	--=LASoak|[*T:armor-leftarm-soak]
	--=BSoak|[*T:armor-body-soak]
	--=RASoak|[*T:armor-rightarm-soak]
	--=LLSoak|[*T:armor-leftleg-soak]
	--=RLSoak|[*T:armor-rightleg-soak]
	--=HCrit|[*T:headCritDam]
	--=LACrit|[*T:LeftArmCritDam]
	--=BCrit|[*T:BodyCritDam]
	--=RACrit|[*T:RightArmCritDam]
	--=LLCrit|[*T:LeftLegCritDam]
	--=RLCrit|[*T:RightLegCritDam]
	--=HCritM|[*T:headCritDam^]
	--=LACritM|[*T:LeftArmCritDam^]
	--=BCritM|[*T:BodyCritDam^]
	--=RACritM|[*T:RightArmCritDam^]
	--=LLCritM|[*T:LeftLegCritDam^]
	--=RLCritM|[*T:RightLegCritDam^]
	
	--/| ===== SOAK DETAILS =========== 
	--?[&HitLocation] -eqi Head|H
	--?[&HitLocation] -eqi LeftArm|LA
	--?[&HitLocation] -eqi Body|B
	--?[&HitLocation] -eqi RightArm|RA
	--?[&HitLocation] -eqi LeftLeg|LL
	--?[&HitLocation] -eqi RightLeg|RL
	
	--:H|
		--&LocDisplay|Head
		--=LocAV|[$HAV]
		--=LocSoak|[$HSoak]
		--^LocationDone|
	--:LA|
		--&LocDisplay|Left Arm
		--=LocAV|[$LAAV]
		--=LocSoak|[$LASoak]
		--^LocationDone|
	--:RA|
		--&LocDisplay|Right Arm
		--=LocAV|[$RAAV]
		--=LocSoak|[$RASoak]
		--^LocationDone|
	--:B|
		--&LocDisplay|Body
		--=LocAV|[$BAV]
		--=LocSoak|[$BSoak]
		--^LocationDone|
	--:LL|
		--&LocDisplay|Left Leg
		--=LocAV|[$LLAV]
		--=LocSoak|[$LLSoak]
		--^LocationDone|
	--:RL|
		--&LocDisplay|Right Leg
		--=LocAV|[$RLAV]
		--=LocSoak|[$RLSoak]
		--^LocationDone|
	--:LocationDone|
	
	--/| === DAMAGE CALCULATIONS ===
	--=DmgPen|@{penetration}
	--=LocPen|[$LocAV] - [$DmgPen] {MIN:0}
	
	--/| ===== ACCURATE QUALITY =========== |\
	--=DegSuccess|[&DoSNum]
	--=AccuracyNumDice|[$DegSuccess] / 2 {MAX:2}
	--?[$AimTypeNum] -gt 0 -and @{q-accurate} -eq 1|Accurate
	--?[$AimTypeNum] -eq 0 -or  @{q-accurate} -eq 0|NoAccurate
	
	--:Accurate|
		--&DmgAccurate|[$AccuracyNumDice]d10! [Accurate]
		--^AccurateDone|
	--/| Fail Catch not working.....
	--:NoAccurate|
		--&DmgAccurate|0
		--^AccurateDone|
	--:AccurateDone|
	
	--=DmgAccurate|[&DmgAccurate]
	
	--/| ===== TEARING QUALITY =========== |\
	--/|   ===== The Tearing Quality Cannot be Implemented at this Time.
	
	--/| @@@ FINAL DAMAGE ROLL ===================================== |\
	--=TotalSoak|[$TBon] + [$LocPen]
	--=FinalDamRoll|@{damage}!+@{damagemod}
	
	--/| TITLE and FORMATTING
	--#title|[&AtkName] Damage
		--#titlecardbackground|#993333
	--#leftsub|LEFT SUB
	--#rightsub|RIGHT SUB
	
	--#emoteText|[*S:t-name] damages [*T:t-name]
	
	--/| === WEAPON DETAILS ===
	--+|[c]● Weapon Details ●[/c]
	--+[t border=1 width=100%][tr][td][c]Class[/c][/td][td][c]Type[/c][/td][td][c]Damage[/c][/td][td][c]Pen[/c][/td][/tr][tr][td][c][&wClassDisplay][/c][/td][td][c][&DmgTypeDisplay][/c][/td][td][c]@{damage}[/c][/td][td][c][$DmgPen][/c][/td][/tr][/t]|
	
	
	--+|[c] ● [&LocDisplay] ● [/c]
	--+[t border=1 width=100%]		[tr]			[td][c]Toughness[/c][/td]			[td][c]Armor[/c][/td]			[td][c]Pen[/c][/td]			[td][c]Soak[/c][/td]		[/tr]		[tr]			[td][c][$TBon][/c][/td]			[td][c] [$LocAV] [/c][/td]			[td][c][$DmgPen][/c][/td]			[td][c][$TotalSoak][/c][/td]		[/tr]	[/t]|
	--/|[b]Tou:[/b] [$TBon] [b]AV:[/b] [$LocAV] [b]Weap Pen[/b] [$DmgPen]
	
	--+|[c] ● DMG Details ● [/c]
	--+|[f18][c][b][$FinalDamRoll] + [$DmgAccurate][/b][/c][/f]
	--/|Degrees of Success|[$DegSuccess]
}}</textarea>
					</label>
				</div>
				
				<div class="misc-attack">
					<label class="small-label2">
						<select name="attr_wCraftsmanship">
							<option selected data-i18n="select-default">• Select</option>
							<option data-i18n="craftsmanship-poor">Poor</option>
							<option data-i18n="craftsmanship-common">Common</option>
							<option data-i18n="craftsmanship-good">Good</option>
							<option data-i18n="craftsmanship-best">Best</option>
							<option data-i18n="craftsmanship-mastercrafted">Mastercrafted</option>
							<option data-i18n="craftsmanship-blank">&bsp;&nbsp;</option>
							<option data-i18n="craftsmanship-relic">Relic</option>
						</select><span data-i18n="craftsmanship">Craftsmanship</span>
					</label>
					
					<label class="small-label2 use-size-only nondual-sect">
						<input type="checkbox" name="attr_carried" style="width: 100%;" title="@{repeating_weapon_$X_carried}" value="1" CHECKED>
						<span data-i18n-title="carried" data-i18n="carried" title="Checked means the weapon is counted towards weight.">Carried</span>
					</label>
					<label class="small-label2" style="width: 2.8em;">
						<input type="text" name="attr_weight" class="weight" title="@{repeating_weapon_$X_weight}" value="0">
						<span data-i18n="weight-abbrv">Weight (kg)</span>
					</label>
					<label class="small-label2">
						<select name="attr_wAvailability">
							<option selected data-i18n="select-default">• Select</option>
							<option data-i18n="availability-abundant">Abundant</option>
							<option data-i18n="availability-plentiful">Plentiful</option>
							<option data-i18n="availability-common">Common</option>
							<option data-i18n="availability-average">Average</option>
							<option data-i18n="availability-scarce">Scarce</option>
							<option data-i18n="availability-rare">Rare</option>
							<option data-i18n="availability-veryrare">Very Rare</option>
							<option data-i18n="availability-unique">Unique</option>
						</select><span data-i18n="gAvailability">Availability</span>
					</label>
				</div>
				<div class="repeating-id">
					<span data-i18n="identification-abbrv">ID</span>: <span class="selectable" name="attr_row_id" />
				</div>
			</div>
	</fieldset>
</div>
		</div><!-- I think this is unpaired -->
<div class="table">
	<span class="table-cell left" style="width: 49%"></span>
	<span class="table-cell right" style="width: 11% ; min-width: 3.5em"><b>Total weight:</b><input title="@{weap_total_weight}" type="number" name="attr_weap_total_weight" class="calc" disabled /><b>lbs.</b></span>
</div>
<div class="cheat"></div>
<!-- END TRANSPLANTED CODE -->
        <hr>

        <!-- Footer Stuff -->

        <div class="IV-colrow">
            <div class="col wounds" style="display: inline-table; width:15%">
                <h3 data-i18n="wounds">Wounds</h3>
                <div class="row">
                    <div class="item" style="width:60%">
                        <label data-i18n="total:">Total:</label>
                    </div>
                    <div class="item" style="width:40%">
                        <input name="attr_Wounds_max" type="number">
                    </div>
                </div>
                <div class="row">
                    <div class="item" style="width:60%">
                        <label data-i18n="current:">Current:</label>
                    </div>
                    <div class="item" style="width:40%">
                        <input name="attr_Wounds" type="number">
                    </div>
                </div>
				<h3>Critical</h3>
				<div class="row">
                    <div class="item" style="width:60%">
                        <label data-i18n="total:">Total:</label>
                    </div>
                    <div class="item" style="width:40%">
                        <input name="attr_Critical_max" type="number">
                    </div>
                </div>
				<div class="row">
                    <div class="item" style="width:60%">
                        <label data-i18n="current:">Current:</label>
                    </div>
                    <div class="item" style="width:40%">
                        <input name="attr_Critical" type="number">
                    </div>
                </div>
            </div>

            <div class="col fate" style="width:15%">
                <h3 data-i18n="fatepoints">Fate Points</h3>
                <div class="row">
                    <div class="item" style="width:60%">
                        <label data-i18n="total:">Total:</label>
                    </div>
                    <div class="item" style="width:40%">
                        <input name="attr_Fate_max" type="number">
                    </div>
                </div>
                <div class="row">
                    <div class="item" style="width:60%">
                        <label data-i18n="current:">Current:</label>
                    </div>
                    <div class="item" style="width:40%">
                        <input name="attr_Fate" type="number">
                    </div>
                </div>
			<h3>Fatigue</h3>
				<div class="row">
                    <div class="item" style="width:60%">
                        <label data-i18n="total:">Total:</label>
                    </div>
                    <div class="item" style="width:40%">
                        <input name="attr_Fatigue_max" type="number">
                    </div>
                </div>
				<div class="row">
                    <div class="item" style="width:60%">
                        <label data-i18n="current:">Current:</label>
                    </div>
                    <div class="item" style="width:40%">
                        <input name="attr_Fatigue1" type="number">
                    </div>
                </div>
            </div>

            <div class="col insanity" style="width:34%">

                <h3 data-i18n="insanity">Insanity</h3>
                <div class="row">
                    <div class="item puny"></div>
                    <div class="item" style="width:55%">
                        <label data-i18n="insanitypoints:">Insanity Points:</label>
                    </div>

                    <div class="item" style="width:35%">
                        <input name="attr_Insanitypoints" type="number">
                    </div>
                </div>

                <div class="row">
                    <div class="item puny"></div>
                    <div class="item" style="width:55%">
                        <label data-i18n="degreeofmadness:">Degree of Madness:</label>
                    </div>

                    <div class="item" style="width:35%">
                        <input name="attr_Insanitydegree" type="text">
                    </div>
                </div>

                <div class="row">
                    <textarea name="attr_Disorders" class="usInput" placeholder="Disorders"
                        style="width:95%; margin:auto; height:75px;">
                    </textarea>
                </div>

                <div class="row"></div>
            </div>


            <div class="col corruption" style="width:34%">

                <h3 data-i18n="corruption">Corruption</h3>
                <div class="row">
                    <div class="item puny"></div>
                    <div class="item" style="width:55%">
                        <label data-i18n="corruptionpoints:">Corruption Points:</label>
                    </div>
                    <div class="item" style="width:35%">
                        <input name="attr_Corruptionpoints" type="number">
                    </div>
                </div>

                <div class="row">
                    <div class="item puny"></div>
                    <div class="item" style="width:55%">
                        <label data-i18n="degreeofcorruption:">Degree of Corruption:</label>
                    </div>

                    <div class="item" style="width:35%">
                        <input name="attr_Corruptionydegree" type="text">
                    </div>
                </div>

                <div class="row">
                    <textarea name="attr_Malignancies" class="usrInput" placeholder="Malignancies"
                        style="width:95%; margin:auto; height:75px;">
                    </textarea>
                </div>

                <div class="row"></div>
            </div>


        </div>

        <hr>

        <!-- XP -->

        <div class="1colrow colrow">

            <h3 data-i18n="experiencepoints">Experience Points</h3>


            <div class="row">
                <div class="item" style="width:12%">
                    <label data-i18n="xptospend" title="The total xp you possess minus the cost of your advancements.">XP to Spend:</label>
                </div>
                <div class="item" style="width:10%">
                    <input name="attr_XPtoSpend" type="number" class="xp" value="@{XPTotal} - (@{advancement_total1} + @{advancement_total2} + @{advancement_total3})" disabled />
                </div>
                <div class="item" style="width:1%"></div>
				<div class="item" style="width:10%">
                    <label data-i18n="totalxpspent">Total Spent:</label>
                </div>
                <div class="item" style="width:15%">
                    <input name="attr_XPSpent" type="number" class="xp" value="@{advancement_total1} + @{advancement_total2} + @{advancement_total3}" disabled />
                </div>
                <div class="item" style="width:1%"></div>
                <div class="item" style="width:5%">
                    <label data-i18n="totalxp">Total:</label>
                </div>
				<div class="item" style="width:10%">
                    <input type="number" name="attr_XPTotal" class="xp" value="0" />
                </div>
				<div class="item" style="width:10%">
                    <label>Exp Debt:</label>
                </div>
                <div class="item" style="width:25%">
                    <input type="number" name="attr_XPDebt" class="xp" value="0" />
                </div>


                <label data-i18n="advancementtaken:">Advancements Taken:</label>

                <fieldset class="repeating_advancements">
                    <div class="row">
                        <div class="item" style="width:26%;">
                            <input name="attr_advancement1" type="text">
                        </div>
                        <div class="item puny center brackets armourblock">
                            <input name="attr_advancement1xp" type="text">
                        </div>
                        <div class="item" style="width:26%;">
                            <input name="attr_advancement2" type="text">
                        </div>
                        <div class="item puny center brackets armourblock">
                            <input name="attr_advancement2xp" type="text">
                        </div>
                        <div class="item" style="width:26%;">
                            <input name="attr_advancement3" type="text">
                        </div>
                        <div class="item puny center brackets armourblock">
                            <input name="attr_advancement3xp" type="text">
                        </div>
                    </div>
                </fieldset>
					<div class="row">
                        <div class="item" style="width:26%;">
                            &nbsp;
                        </div>
                        <div class="item puny center brackets armourblock">
                            <hidden name="attr_advancement_total1" type="number" value="0" readonly />
                        </div>
                        <div class="item" style="width:26%;">
                            &nbsp;
                        </div>
                        <div class="item puny center brackets armourblock">
                            <hidden name="attr_advancement_total2" type="number" value="0" readonly />
                        </div>
                        <div class="item" style="width:26%;">
                            &nbsp;
                        </div>
                        <div class="item puny center brackets armourblock">
                            <hidden name="attr_advancement_total3" type="number" value="0" readonly />
                        </div>
                    </div>
                <hr>
                <h3 data-i18n="othernotes:">Other Notes:</h3>
                <textarea name="attr_othernotes">
            </textarea>
            </div><!-- Charsheet End -->
        </div>
    </div>
</div>

<div class="section-gear watermark">
    <!-- GEAR Tab Tab -->
    <!-- This tab contains WORK in PROGRESS content as well as a selection of DEBUG tools for the GM and sheet authors -->
    <div class="wrapper">
        <br>
        <h3>Gear</h3>
        <img src="http://i.imgur.com/TKfHnQ9.png"><!-- Divider  -->
	</div>
</div><!-- END GEAR TAB -->

<div class="section-advancements watermark">
    <!-- ADVANCEMENT Tab Tab -->
    <!-- This tab contains WORK in PROGRESS content as well as a selection of DEBUG tools for the GM and sheet authors -->
    <div class="wrapper">
        <br>
        <h3>Advancement</h3>
        <img src="http://i.imgur.com/TKfHnQ9.png"><!-- Divider  -->
	</div>
</div><!-- END ADVANCEMENT TAB -->

<div class="section-npc watermark">
    <!-- NPC Tab Tab -->
    <!-- This tab contains WORK in PROGRESS content as well as a selection of DEBUG tools for the GM and sheet authors -->
    <div class="wrapper">
        <br>
        <h3>NPCs</h3>
        <img src="http://i.imgur.com/TKfHnQ9.png"><!-- Divider  -->
	</div>
</div><!-- END NPCS TAB -->


<div class="section-journal watermark">
    <!-- JOURNAL Tab Tab -->
    <!-- This tab contains WORK in PROGRESS content as well as a selection of DEBUG tools for the GM and sheet authors -->
    <div class="wrapper">
        <br>
        <h3>Journal</h3>
        <img src="http://i.imgur.com/TKfHnQ9.png"><!-- Divider  -->
	</div>
</div><!-- END Journal TAB -->

<div class="section-vehicles watermark">
    <!-- VEHICLES Tab Tab -->
    <!-- This tab contains WORK in PROGRESS content as well as a selection of DEBUG tools for the GM and sheet authors -->
    <div class="wrapper">
        <br>
        <h3>Vehicles</h3>
        <img src="http://i.imgur.com/TKfHnQ9.png"><!-- Divider  -->
	</div>
</div><!-- END VEHICLES TAB -->


<div class="section-psykana watermark">
    <!-- Psykana Tab Tab -->
	<!-- This section contains Psychic Powers, Focus Power Rolls, and other Psyker Specific characteristics -->
<!--%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%-->
	<div class="wrapper">
		<h3>Psychic Powers</h3>
		<div class="row">
			<div class="item" style="width: 50px;"><label>Class:</label></div>
			<div class="item" style="width: 100px;">
				<select class="charaselect" name="attr_PsykerClass">
					<option value="0">Select</option>
					<option value="Bound">Bound</option>
					<option value="Unbound">Unbound</option>
					<option value="Daemonic">Daemonic</option>
				</select>
			</div>
			<div class="item" style="width: 7em; margin-left: 20px"><label>Psy Rating:</label></div>
			<div class="item" style="width: 50px;"><input name="attr_PsyRating" type="number" placeholder="0" /></div>
			<div class="item" style="width: 6em; margin-left: 10%"><label>Max Push:</label></div>
			<div class="item" style="width: 15%;"><input name="attr_MaxPust" type="number" placeholder="+2/3/4"/></div>
			<div class="item" style="width: 6em;"><label>Sustaining:</label></div>
			<div class="item" style="width: 14%;"><input name="attr_Sustaining" type="number" placeholder="+10 PP / -1 PR"/></div>
		</div>
		<div class="table">
			<span class="table-name">Psykana Preset Buttons</span>
			<div class="table-row">
				<span class="table-header">0</span>
				<span class="table-header">1</span>
				<span class="table-header">2</span>
				<span class="table-header">3</span>
				<span class="table-header">4</span>
				<span class="table-header">5</span>
				<span class="table-header">6</span>
				<span class="table-header">7</span>
				<span class="table-header">8</span>
				<span class="table-header">9</span>
				<span class="table-header">10</span>
				<span class="table-header">11</span>
				<span class="table-header">12</span>
				<span class="table-header">13</span>
				<span class="table-header">14</span>
				<span class="table-header">15</span>
				<span class="table-header">16</span>
				<span class="table-header">17</span>
				<span class="table-header">18</span>
				<span class="table-header">19</span>
				<span class="table-header">20</span>
				<span class="table-header">21</span>
				<span class="table-header">22</span>
				<span class="table-header">23</span>
				<span class="table-header">24</span>
				<span class="table-header">25</span>
			</div>
			<div class="table-row">
				<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_}" class="dice" value="">t</button></span>
				<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_}" class="dice" value="">t</button></span>
				<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_}" class="dice" value="">t</button></span>
				<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_}" class="dice" value="">t</button></span>
				<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_}" class="dice" value="">t</button></span>
				<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_}" class="dice" value="">t</button></span>
				<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_}" class="dice" value="">t</button></span>
				<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_}" class="dice" value="">t</button></span>
				<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_}" class="dice" value="">t</button></span>
				<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_}" class="dice" value="">t</button></span>
				<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_}" class="dice" value="">t</button></span>
				<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_}" class="dice" value="">t</button></span>
				<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_}" class="dice" value="">t</button></span>
				<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_}" class="dice" value="">t</button></span>
				<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_}" class="dice" value="">t</button></span>
				<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_}" class="dice" value="">t</button></span>
				<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_}" class="dice" value="">t</button></span>
				<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_}" class="dice" value="">t</button></span>
				<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_}" class="dice" value="">t</button></span>
				<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_}" class="dice" value="">t</button></span>
				<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_}" class="dice" value="">t</button></span>
				<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_}" class="dice" value="">t</button></span>
				<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_}" class="dice" value="">t</button></span>
				<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_}" class="dice" value="">t</button></span>
				<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_}" class="dice" value="">t</button></span>
				<span class="tdcs"><button type="roll" name="roll_repeating_" title="%{selected|repeating_}" class="dice" value="">t</button></span>
			</div>
		</div>
		<hr>
		<fieldset class="repeating_PsyPowers">
			<div class="quickborder">
				<div class="row">
					<div class="item" style="width: 11%;"><label>Name:</label></div>
					<div class="item" style="width: 89%;"><input name="attr_PsyName" type="text" /></div>
				</div>
				<div class="row">
					<div class="item" style="width: 12%;"><label>Action:</label></div>
					<div class="item" style="width: 28%;"><input name="attr_PsyAction" type="text" /></div>
					<div class="item" style="width: 15%;;"><label>Subtype:</label></div>
					<div class="item" style="width: 45%;"><input name="attr_PsySubtype" type="text" /></div>
				</div>
				<div class="row">
					<div class="item" style="width: 25%;"><label>Focus Power:</label></div>
					<select class="charaselect" style="width: 30%;" name="attr_PsyFocusPower">
						<option value="?{Custom|0}">Custom</option>
						<option value="@{Perception}">Perception</option>
						<option value="@{Willpower} + (-20 + @{Psyniscience1} + @{Psyniscience2} + @{Psyniscience3} + @{Psyniscience4})">Psyniscience WP</option>
						<option value="@{Perception} + (-20 + @{Psyniscience1} + @{Psyniscience2} + @{Psyniscience3} + @{Psyniscience4})">Psyniscience Per</option>
						<option value="@{Willpower}">Willpower</option>
						<option value="@{Corruption}">Corruption</option>
					</select>
					<div class="item" style="width: 30%;"><label>Power Modifier:</label></div>
					<div class="item" style="width: 15%;"><input name="attr_PsyPowerModifier" type="number" value="0" /></div>
				</div>
				<div class="row">
					<div class="item" style="width: 12%;"><label>Range:</label></div>
					<div class="item" style="width: 17%;"><input name="attr_PsyRange" type="text" /></div>
					<div class="item" style="width: 17%;;"><label>Sustained:</label></div>
					<div class="item" style="width: 19%;"><input name="attr_PsySustained" type="text" /></div>
					<div class="item" style="width: 25%;"><label>Damage Type:</label></div>
					<div class="item" style="width: 10%;"><input name="attr_PsyDamageType" type="text" /></div>
				</div>
				<div class="row">
					<div class="item" style="width: 15%;"><label>Damage:</label></div>
					<div class="item" style="width: 21%;"><input name="attr_PsyDamage" type="text" /></div>
					<div class="item" style="width: 8%;"><label>Pen:</label></div>
					<div class="item" style="width: 17%;"><input name="attr_PsyPen" type="text" /></div>
					<div class="item" style="width: 12%;"><button name="roll_PsyHit" type="roll" value="@{whisper}/em uses @{PsyName} [[1d100]] Target [[@{PsyFocusPower} + ((@{PsyRating} - ?{Psy Use?|@{PsyRating}}) * 10) + @{PsyPowerModifier} + [[?{Modifier|0}]]]]."> <label>Cast</label> </button></div>
					<div class="item" style="width: 15%;"><button name="roll_PsyDamage" type="roll" value="/me does [[?{Damage|1d10})]] @{PsyDamageType} damage! Pen: [[?{Penetration|0}]]"> <label>Damage</label> </button></div>
					<div class="item" style="width: 12%;"><button name="roll_PsyInfo" type="roll" value="&{template:default} {{name=@{PsyName}}} {{Action=@{PsyAction}}} {{SubType(s)=@{PsySubtype}}} {{Range=@{PsyRange}}} {{Sustained?=@{PsySustained}}} {{Effect=@{PsyPowersEffect}}} "> <label>Info</label> </button></div>
				</div>
				<div><textarea name="attr_PsyPowersEffect"></textarea></div>
			</div>
		</fieldset>
	</div>
</div>


</div><!-- END PSYKER TAB -->

<div class="section-social watermark">
    <!-- DEBUG Tab Tab -->
    <!-- This tab contains WORK in PROGRESS content as well as a selection of DEBUG tools for the GM and sheet authors -->
    <div class="wrapper">
        <br>
        <h3>Social</h3>
        <img src="http://i.imgur.com/TKfHnQ9.png"><!-- Divider  -->
	</div>
</div><!-- END Social TAB -->

<div class="section-ship watermark">
    <!-- DEBUG Tab Tab -->
    <!-- This tab contains WORK in PROGRESS content as well as a selection of DEBUG tools for the GM and sheet authors -->
    <div class="wrapper">
        <br>
        <h3>Ships</h3>
        <img src="http://i.imgur.com/TKfHnQ9.png"><!-- Divider  -->
	</div>
</div><!-- END SHIPS TAB -->

<div class="section-CONFIG watermark">
    <!-- CONFIG TAB Tab Tab -->
    <!-- This tab contains Global Optional settings for the character sheet -->
    <div class="wrapper">
	<h3>CONFIG</h3><img src="http://i.imgur.com/TKfHnQ9.png"><!-- Divider  -->
	<label><input type="checkbox" name="attr_toggle-section" value="1" class="section-collapse cfg-character-toggle noshow" checked=""><b title="Character Level Configuration">Character Level Config</b></label> <!-- it doesnt need to be a checkbox -->
			<input type="hidden" class="cfg-character-toggle" name="attr_toggle-section">
			<div class="character-hide">
<label class="inlineblock"><input type="checkbox" value="1" name="attr_cfg-mini-toggle"    class="boldlabel-check noshow"> <b title="Hide all unnessisary character details from CORE"      data-il8n="cfg-"        data-il8n-title="cfg-mini-title"   >Minimalist</b></label>
<label class="inlineblock"><input type="checkbox" value="1" name="attr_cfg-npc-toggle"     class="boldlabel-check noshow"> <b title="Character sheet represemts an NPC."                    data-il8n="cfg-npc"     data-il8n-title="cfg-npc-title"    >NPC</b></label>
<label class="inlineblock"><input type="checkbox" value="1" name="attr_cfg-gmpc-toggle"    class="boldlabel-check noshow"> <b title="This character sheet represents a GM-PC."              data-il8n="cfg-gmpc"    data-il8n-title="cfg-gmpc-title"   >GMPC</b></label>
<label class="inlineblock"><input type="checkbox" value="1" name="attr_cfg-psyker-toggle"  class="boldlabel-check noshow"> <b title="This character uses PSYKER Rules."                     data-il8n="cfg-psyker"  data-il8n-title="cfg-psyker-title" >Psyker</b></label>
<label class="inlineblock"><input type="checkbox" value="1" name="attr_cfg-faith-toggle"   class="boldlabel-check noshow"> <b title="This character uses FAITH Rules."                      data-il8n="cfg-faith"   data-il8n-title="cfg-faith-title"  >Faith</b></label>
			</div>

	<label><input type="checkbox" name="attr_toggle-section" value="1" class="section-collapse cfg-system-toggle noshow" checked=""><b title="Character Level Configuration">System Configuration</b></label> <!-- it doesnt need to be a checkbox -->
			<input type="hidden" class="cfg-system-toggle" name="attr_toggle-section">
			<div class="system-hide">
<label class="inlineblock"><input type="checkbox" value="1" name="attr_cfg-dh1-toggle"     class="boldlabel-check noshow"> <b title="Use Only Dark Heresy 1e Rules."  data-il8n="cfg-dh1"     data-il8n-title="cfg-dh1-title"     >Core</b></label>
<label class="inlineblock"><input type="checkbox" value="1" name="attr_cfg-dh1Asc-toggle"  class="boldlabel-check noshow"> <b title="Include Ascention Rules."        data-il8n="cfg-dh1Asc"  data-il8n-title="cfg-dh1Asc-title"  >Ascention</b></label>
<label class="inlineblock"><input type="checkbox" value="1" name="attr_cfg-rt1-toggle"     class="boldlabel-check dblwide noshow"> <b title="Include Rogue Trader Rules."     data-il8n="cfg-rt1"     data-il8n-title="cfg-rt1-title"     >Rogue Trader</b></label>
<label class="inlineblock"><input type="checkbox" value="1" name="attr_cfg-dw1-toggle"     class="boldlabel-check noshow"> <b title="Include Deathwatch Rules."       data-il8n="cfg-dw1"     data-il8n-title="cfg-dw1-title"     >Deathwatch</b></label>
			</div>
	</div><!-- END CONFIG TAB -->
</div>

<!--Roll Template test-->
<rolltemplate class="sheet-rolltemplate-dh1ed">
    <table>
        <tr>
            <th colspan="2" class="sheet-title">{{rollname}}</th>
        </tr>
        <tr>
            <th colspan="2"><img
                    src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Dark_Heresy/img/spacer.png"
                    class="sheet-rolltemplate-spacer"></th>
        </tr>
        {{#skill}}
        <tr>
            <td><span class="sheet-tcat" data-i18n="skill:">Skill: </span></td>
            <td><span class="sheet-inlinerollresult">{{skill}}</span></td>
        </tr>
        {{/skill}}
        {{#aim}}
        <tr>
            <td><span class="sheet-tcat" data-i18n="aim:">Aim: </span></td>
            <td><span class="sheet-inlinerollresult">{{aim}}</span></td>
        </tr>
        {{/aim}}
        {{#range}}
        <tr>
            <td><span class="sheet-tcat" data-i18n="range:">Range: </span></td>
            <td><span class="sheet-inlinerollresult">{{range}}</span></td>
        </tr>
        {{/range}}
        {{#attacktype}}
        <tr>
            <td><span class="sheet-tcat" data-i18n="attacktype:">Attack Type: </span></td>
            <td><span class="sheet-inlinerollresult">{{attacktype}}</span></td>
        </tr>
        {{/attacktype}}
        {{#modifier}}
        <tr>
            <td><span class="sheet-tcat" data-i18n="modifier:">Modifier: </span></td>
            <td><span class="sheet-inlinerollresult">{{modifier}}</span></td>
        </tr>
        {{/modifier}}
        {{#target}}
        <tr class="sheet-topline">
            <th colspan="2"><span></span></th>
        </tr>
        <tr>
            <td><span class="sheet-tcat" data-i18n="target:">Target: </span></td>
            <td><span class="sheet-inlinerollresult">{{target}}</span></td>
        </tr>
        {{/target}}
        {{#threshold}}
        <tr>
            <td><span class="sheet-tcat" data-i18n="threshold:">Threshold: </span></td>
            <td><span class="sheet-inlinerollresult">{{threshold}}</span></td>
        </tr>
        {{/threshold}}
        {{#diceroll}}
        <tr>
            <th colspan="2"><img
                    src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Dark_Heresy/img/spacer.png"
                    class="sheet-rolltemplate-spacer sheet-invert"></th>
        </tr>
        <tr>
            <td><span class="sheet-tcat" data-i18n="diceroll:">dice roll: </span></td>
            <td><span class="sheet-inlinerollresult">{{diceroll}}</span></td>
        </tr>
        {{/diceroll}}
        {{#rollGreater() weapondiceroll 96}}
        <tr>
            <th colspan="2"><img
                    src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Dark_Heresy/img/spacer.png"
                    class="sheet-rolltemplate-spacer sheet-invert"></th>
        </tr>
        <tr class="sheet-failure">
            <td><span class="sheet-tcat" data-i18n="diceroll:">dice roll: </span></td>
            <td><span class="sheet-inlinerollresult">{{weapondiceroll}}</span></td>
        </tr>
            {{#rollTotal() reliable 10}}
            <tr class="sheet-failure">
                <td><span class="sheet-tcat" data-i18n="reliable:">reliable: </span></td>
                <td><span class="sheet-inlinerollresult">{{reliable}}</span></td>
            </tr>
            {{/rollTotal() reliable 10}}
            {{#rollLess() reliable 10}}
            <tr>
                <td><span class="sheet-tcat" data-i18n="reliable:">reliable: </span></td>
                <td><span class="sheet-inlinerollresult">{{reliable}}</span></td>
            </tr>
            {{/rollLess() reliable 10}}
        {{/rollGreater() weapondiceroll 96}}
        {{#rollLess() weapondiceroll 97}}
        <tr>
            <th colspan="2"><img
                    src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Dark_Heresy/img/spacer.png"
                    class="sheet-rolltemplate-spacer sheet-invert"></th>
        </tr>
        <tr>
            <td><span class="sheet-tcat" data-i18n="diceroll:">dice roll: </span></td>
            <td><span class="sheet-inlinerollresult">{{weapondiceroll}}</span></td>
        </tr>
        {{/rollLess() weapondiceroll 97}}
        {{#rollGreater() roll 0}}
        <tr class="sheet-success">
            <th colspan="2">
                <span data-i18n="success">Success</span> <span data-i18n="with">with</span> {{roll}} <span
                    data-i18n="degrees">degrees</span>
            </th>
        </tr>
        {{/rollGreater() roll 0}}
        {{#rollTotal() roll 0}}
        <tr class="sheet-success">
            <th colspan="2">
                <span data-i18n="success">Success</span> <span data-i18n="with">with</span> {{roll}} <span
                    data-i18n="degrees">degrees</span>
            </th>
        </tr>
        {{/rollTotal() roll 0}}
        {{#rollLess() roll 0}}
        <tr class="sheet-failure">
            <th colspan="2">
                <span data-i18n="failure">Failure</span> <span data-i18n="with">with</span> {{roll}} <span
                    data-i18n="degrees">degrees</span>
            </th>
        </tr>
        {{/rollLess() roll 0}}
        {{#psy}}
        <tr>
            <td><span class="sheet-tcat" data-i18n="resultpsy:">Result Psy: </span></td>
            <td><span class="sheet-inlinerollresult">{{psy}}</span></td>
        </tr>
        {{/psy}}
        {{#damage}}
        <tr class="sheet-damage">
            <td><span class="sheet-tcat" data-i18n="damage:">Damage: </span></td>
            <td><span class="sheet-inlinerollresult">{{damage}}</span></td>
        </tr>
        {{/damage}}
        {{#damagetype}}
        <tr class="sheet-damage">
            <td><span class="sheet-tcat" data-i18n="type:">Type: </span></td>
            <td><span class="sheet-inlinerollresult">{{damagetype}}</span></td>
        </tr>
        {{/damagetype}}
        {{#special}}
        <tr>
            <td><b><span class="sheet-tcat" data-i18n="special:">Special: </span></b></td>
            <td><span class="sheet-inlinerollresult">{{special}}</span></td>
        </tr>
        {{/special}}
    </table>
</rolltemplate>
<script type="text/worker">
var SetAbil = function(abil){
"use strict";
	console.log("=== Set Ability Scores ===");
	console.log("Setting "+abil+" . . .");
	getAttrs([abil+'-base', abil+'-unnatural'], function(v) {
		console.log("GET " + abil+"-base: [" + v[abil+"-base"] + "] " + abil+"-unnatural [" + v[abil+"-unnatural"] + "]");
	var stat_unnat = parseInt(v[abil+"-unnatural"]) || 0;
	var stat_base  = parseInt(v[abil+"-base"]) || 0;
		
	var stat_unNat_base  = stat_base * stat_unnat;  // Unnatural Score is the base score, times the unnatural value.
		
	var base_mod  = Math.floor(stat_base / 10);
	var unNat_mod = Math.floor(stat_unNat_base / 10);
	var tot_mod   = base_mod + unNat_mod;
		
		console.log("SET the value of stat_unnat  = " +stat_unnat+ ".");
		console.log("SET the value of stat_base   = " +stat_base+ ".");
		console.log("SET the value of stat_unNat_base = " +stat_unNat_base+ ".");
		console.log("SET the value of base_mod    = " +base_mod+ ".");
		console.log("SET the value of unNat_mod   = " +unNat_mod+ ".");
		
	//console.log("Wounds Penalty: " +parseInt(v['condition-wounds'])+"."); ~RESERVED FOR FUTURE USE~
		var update = {};
		update[abil] = stat_base;
		update[abil+'-mod']= base_mod;
		update[abil+'-unnatural-mod'] = unNat_mod;
		update[abil+'-final-mod'] = unNat_mod;
		update[abil+'-final'] = stat_base; /* Functionally identical to abil-base or abil.  However, this is added for variable continuity. */
		update[abil+'-unnatural-final'] = stat_unNat_base;

/* ****************** CONDITIONALS ***************************************** */
/* ** WS (Weapon Skill)     : NONE                                        ** */
/* ** BS (Ballistics Skill) : NONE                                        ** */
/* ** STR (Strength)        : Fatigued/Exhausted [SIZE]                   ** */
/* ** TOU (Toughness)       : Entangled, Grappled, Fatigued/Exhausted     ** */
/* ** AGI (Agility)         : NONE                                        ** */
/* ** INT (Intelligence     : NONE                                        ** */
/* ** PER (Perception)      : NONE                                        ** */
/* ** WIL (Willpower)       : NONE                                        ** */
/* ** FEL (Fellowship)      : NONE                                        ** */
/* ** INF (Influence)       : NONE                                        ** */
/* ****************** CONDITIONALS ***************************************** */				
			
		setAttrs(update);
	});  // 
};

on('change:ws-base   change:ws-unnatural ', _.bind(SetAbil,{},'ws'));
on('change:bs-base   change:bs-unnatural ', _.bind(SetAbil,{},'bs'));
on('change:str-base change:str-unnatural ', _.bind(SetAbil,{},'str'));
on('change:tou-base change:tou-unnatural ', _.bind(SetAbil,{},'tou'));
on('change:agi-base change:agi-unnatural ', _.bind(SetAbil,{},'agi'));
on('change:int-base change:int-unnatural ', _.bind(SetAbil,{},'int'));
on('change:wp-base   change:wp-unnatural ', _.bind(SetAbil,{},'wp'));
on('change:fel-base change:fel-unnatural ', _.bind(SetAbil,{},'fel'));
on('change:inf-base change:inf-unnatural ', _.bind(SetAbil,{},'inf'));

/* SIZE FUNCTION */
on('change:size change:tab', function() {
console.log("============= Pull and Get Size Information =============");
   console.log("Setting Size Totals . . .");
    getAttrs(['size'], function(v) {
	//	var sizeMod = 0
	//	, skillMod = 0;
		switch (parseInt(v['size'])) {
            case 6: sizeMod =  60;ConcealMod = -60;sizeLabel = "Titanic"    ;break; // Titanic       -> Reaver Battle Titan, Ordinatus War Machine
            case 5: sizeMod =  50;ConcealMod = -50;sizeLabel = "Monumental" ;break; // Monumental    -> Squiggoth, Baneblade
            case 4: sizeMod =  40;ConcealMod = -40;sizeLabel = "Immense"    ;break; // Immense       -> Land Raider, Great Knarloc
            case 3: sizeMod =  30;ConcealMod = -30;sizeLabel = "Massive"    ;break; // Massive       -> Battle Tank, Greater Daemon
            case 2:  sizeMod =  20;ConcealMod = -20;sizeLabel = "Enormous"   ;break; // Enormous      -> Sentinel Walker, Krootox
            case 1:  sizeMod =  10;ConcealMod = -10;sizeLabel = "Hulking"    ;break; // Hulking       -> Armoured Space Marine, Ogryn, Ork Nob
            case 0:  sizeMod =   0;ConcealMod =   0;sizeLabel = "Average"    ;break; // << Average >> -> HUMAN, Eldar
			case -1:  sizeMod = -10;ConcealMod =  10;sizeLabel = "Scrawny"    ;break; // Scrawny       -> Gretchen, HUMAN CHILD
			case -2:  sizeMod = -20;ConcealMod =  20;sizeLabel = "Puny"       ;break; // Puny          -> Bolt pistol, Servo-Skull
			case -3:  sizeMod = -30;ConcealMod =  30;sizeLabel = "Miniscule"  ;break; // Miniscule     -> Autoquil, knife
		default: sizeMod = 0;
		}
		/* Horde, Size and Magnitude */
		/* Magnitude     Equivilant Group         Size/Hit Modifier */
		/* 30            A mob                    Massive           */
		/* 60            A thronged phalanx       Immense           */
		/* 90            A massed assault         Monumental        */
		/* 120+          A serried tied of foes   Titanic           */
		
		console.log("======================= Hero Size: [" + parseInt(v["size"]) +"]");

		setAttrs({
			'size_mod': sizeMod,
			'size_conceal': ConcealMod,
			'size_label': sizeLabel
        });
    });
});

/* ===== PARAMETERS ==========
destinations = the name of the attribute that stores the total quantity
        can be a single attribute, or an array: ['total_cost', 'total_weight']
        If more than one, the matching fields must be in the same order. 
    section = name of repeating fieldset, without the repeating_
    fields = the name of the attribute field to be summed
          destination and fields both can be a single attribute: 'weight'
          or an array of attributes: ['weight','number','equipped']
*/
	const repeatingSum = (destinations, section, fields) => {
		if (!Array.isArray(destinations)) destinations = [destinations.replace(/\s/g, '').split(',')];
		if (!Array.isArray(fields)) fields = [fields.replace(/\s/g, '').split(',')];
		getSectionIDs(`repeating_${section}`, idArray => {
			const attrArray = idArray.reduce((m, id) => [...m, ...(fields.map(field => `repeating_${section}_${id}_${field}`))], []);
			getAttrs([...attrArray], v => {
				const getValue = (section, id, field) => v[`repeating_${section}_${id}_${field}`] === 'on' ? 1 : parseFloat(v[`repeating_${section}_${id}_${field}`]) || 0;
				const commonMultipliers = (fields.length <= destinations.length) ? [] : fields.splice(destinations.length, fields.length - destinations.length);
				const output = {};
				destinations.forEach((destination, index) => {
					output[destination] = idArray.reduce((total, id) => total + getValue(section, id, fields[index]) * commonMultipliers.reduce((subtotal, mult) => subtotal * getValue(section, id, mult), 1), 0);
				});
				setAttrs(output);
			}); 
		}); 
	};

    const buttonlist = ["core","gear","advancements", "npc", "journal", "vehicles", "psykana", "social", "ship", "config", "debug"];
    buttonlist.forEach(button => {
        on(`clicked:${button}`, function() {
            setAttrs({
                sheetTab: button
            });
        });
    });

	on('change:repeating_advancements:advancement1xp remove:repeating_advancements', function() {
		repeatingSum("advancement_total1","advancements","advancement1xp");
	});
	on('change:repeating_advancements:advancement2xp remove:repeating_advancements', function() {
		repeatingSum("advancement_total2","advancements","advancement2xp");
	});
	on('change:repeating_advancements:advancement3xp remove:repeating_advancements', function() {
		repeatingSum("advancement_total3","advancements","advancement3xp");
	});
	on('change:repeating_weapon:weight remove:repeating_weapon', function() {
		repeatingSum("weap_total_weight","weapon","weight");
	});
</script>